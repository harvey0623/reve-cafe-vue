(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,m=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/reve-cafe-vue/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"04ce":function(e,t,r){"use strict";r("83d1")},"0619":function(e,t,r){"use strict";r("c975")},"068c":function(e,t,r){},"0a6d":function(e,t,r){},"0d49":function(e,t,r){},"0ea3":function(e,t,r){e.exports=r.p+"img/footer-logo.cec4776f.png"},"0fca":function(e,t,r){e.exports=r.p+"img/register-bg.96d67acc.jpg"},1:function(e,t){},"12f8":function(e,t,r){"use strict";r("724e")},"1e34":function(e,t,r){"use strict";r("bb4a")},"1f43":function(e,t,r){},"212e":function(e,t,r){"use strict";r("28cc")},"222a":function(e,t,r){"use strict";r("a85f")},2466:function(e,t,r){"use strict";r("1f43")},"28cc":function(e,t,r){},"3e29":function(e,t,r){},"40e4":function(e,t,r){"use strict";r("6923")},4949:function(e,t,r){},"4a0d":function(e,t,r){"use strict";r("ae2a")},"4bdf":function(e,t,r){"use strict";r("bc56")},"4e8b":function(e,t,r){e.exports=r.p+"img/contact.1666eece.jpg"},5099:function(e,t,r){"use strict";r("7a02")},5126:function(e,t,r){},"52d5":function(e,t,r){"use strict";r("b926")},"54da":function(e,t,r){"use strict";r("0d49")},"559b":function(e,t,r){"use strict";r("9ef7")},5654:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("e041");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("vue-progress-bar"),r("Header"),r("Breadcrumb"),r(e.layoutName,{tag:"component"},[r("router-view")],1),r("Footer")],1)},i=[],o=r("ed09"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"header-top"},[a("div",{staticClass:"my-container"},[a("a",{staticClass:"dropdown-block",attrs:{href:"javascript:;"},on:{mouseenter:function(t){e.openDropdownMenu=!0},mouseleave:function(t){e.openDropdownMenu=!1}}},[e._v(" 所有商品 "),a("i",{staticClass:"fal fa-chevron-down"}),a("div",{staticClass:"header-dropdown-menu",class:{mouseenter:e.openDropdownMenu}},e._l(e.menuList.data,(function(t,r){return a("router-link",{key:r,attrs:{to:t.urlParams},nativeOn:{click:function(t){e.openDropdownMenu=!1}}},[e._v(e._s(t.title))])})),1)]),a("router-link",{attrs:{to:"/brand"}},[e._v("品牌介紹")]),a("router-link",{attrs:{to:"/contact"}},[e._v("聯絡我們")])],1)]),a("div",{staticClass:"header-bottom"},[a("div",{staticClass:"my-container"},[a("router-link",{staticClass:"logo-box",attrs:{to:"/"}},[a("img",{attrs:{src:r("7eb0"),alt:""}})]),a("div",{staticClass:"search-block"},[a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandler.apply(null,arguments)},input:function(t){t.target.composing||(e.keyword=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("i",{staticClass:"fal fa-search",on:{click:e.searchHandler}})])]),a("div",{staticClass:"feature-block"},[a("router-link",{staticClass:"feature-item",attrs:{to:e.memberLink}},[a("i",{staticClass:"fal fa-user"}),a("p",{staticClass:"text-primary"},[e._v("會員中心")])]),e.isLogin?a("router-link",{staticClass:"feature-item",attrs:{to:"/cart"}},[a("i",{staticClass:"fal fa-shopping-cart"}),a("p",{staticClass:"text-primary"},[e._v("購物車")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showCartCount,expression:"showCartCount"}],staticClass:"cart-count"},[e._v(e._s(e.cartTotal))])]):e._e()],1)],1)])])},c=[],u=r("2909"),l=r("3835"),d=r("1da1"),m=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("99af"),r("5530")),p=(r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("00b4"),r("5319"),r("bc3a")),v=r.n(p),f=r("8c4f"),b=r("2f62"),g=r("2ef0"),h=r.n(g),_=(r("e9c4"),{getItem:function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):null},setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},removeItem:function(e){localStorage.removeItem(e)},getSessionItem:function(e){var t=sessionStorage.getItem(e);return null!==t?JSON.parse(t):null},setSessionItem:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},removeSessionItem:function(e){sessionStorage.removeItem(e)}}),C=r("3452"),y=r.n(C),w=function(e){var t=y.a.SHA384("d5632170e1edb95de25330f5f48c61f8"),r=y.a.enc.Hex.parse(t.toString().substring(0,64)),a=y.a.enc.Hex.parse(t.toString().substring(64,96)),n=y.a.AES.encrypt(e,r,{iv:a});return n.toString()},k=_,x=w,O={namespaced:!0,state:function(){return{userInfo:{}}},mutations:{setUserInfo:function(e,t){e.userInfo=t}},getters:{isLogin:function(e){return!h.a.isEmpty(e.userInfo)}},actions:{getUserInfoFromStorage:function(e){var t=e.commit,r=k.getItem("userInfo");h.a.isEmpty(r)||t("setUserInfo",r)},login:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,r.next=3,eo.login(t);case 3:return n=r.sent,1===n.status&&(i=n.aaData.access_token,a("setUserInfo",{token:i}),k.setItem("userInfo",{token:i})),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,eo.logout();case 3:return a=t.sent,1===a.status&&(r("setUserInfo",{}),k.removeItem("userInfo")),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))()},checkLoginStatus:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,eo.me();case 3:if(a=t.sent,1!==a.status){t.next=6;break}return t.abrupt("return",{status:1});case 6:return t.next=8,eo.refresh();case 8:return n=t.sent,1===n.status?(i=n.aaData.access_token,r("setUserInfo",{token:i}),k.setItem("userInfo",{token:i})):(r("setUserInfo",{}),k.removeItem("userInfo")),t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})))()}}},j={namespaced:!0,state:function(){return{normalCartList:[],activityCartList:[]}},mutations:{setNormalCartList:function(e,t){e.normalCartList=t},setActivityCartList:function(e,t){e.activityCartList=t}},getters:{subTotal:function(e){var t=e.normalCartList.length,r=e.activityCartList.length;return t+r}},actions:{getNormalCart:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,ro.getCart();case 3:return a=t.sent,n=1===a.status?a.aaData:[],r("setNormalCartList",n),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},getActivityCart:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,ao.getCart();case 3:return a=t.sent,n=1===a.status?a.aaData:[],r("setActivityCartList",n),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},getAllCart:function(e){var t=e.dispatch;t("getNormalCart"),t("getActivityCart")},clearAllCart:function(e){var t=e.commit;t("setNormalCartList",[]),t("setActivityCartList",[])}}},I=O,N=j,P=function(e){e.dispatch("auth/getUserInfoFromStorage"),e.subscribe((function(e,t){}))};a["default"].use(b["a"]);var T=new b["a"].Store({strict:!1,state:{termList:[]},mutations:{setTermList:function(e,t){e.termList=t}},getters:{termInfo:function(e){return e.termList.reduce((function(e,t){return e[t.id]=t,e}),{})},getTermContent:function(e,t){return function(e){var r=t.termInfo[e];return void 0!==r?r.content:""}}},actions:{getTerm:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,to.getTerm({type:["register"]});case 3:if(a=t.sent,0!==a.aaData.term_information.length){t.next=6;break}return t.abrupt("return");case 6:r("setTermList",a.aaData.term_information[0].terms);case 7:case"end":return t.stop()}}),t)})))()}},modules:{auth:I,cart:N},plugins:[P]}),$=function(e,t,r){return T.getters["auth/isLogin"]?r("/"):r()},L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},S=[],A={},q=A,R=r("2877"),M=Object(R["a"])(q,L,S,!1,null,null,null),H=M.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"banner-block"},[r("div",{staticClass:"swiper",attrs:{id:"banner-swiper"}},[r("div",{staticClass:"swiper-wrapper"},e._l(e.bannerList.data,(function(e,t){return r("div",{key:t,staticClass:"swiper-slide"},[r("img",{attrs:{src:e,alt:""}})])})),0),r("div",{staticClass:"swiper-pagination"})])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRecommend,expression:"hasRecommend"}],staticClass:"section-block popular"},[r("div",{staticClass:"my-container"},[r("h3",{staticClass:"blobk-title text-primary"},[e._v("POPULAR")]),r("div",{staticClass:"popular-row"},e._l(e.recommendList.data,(function(e){return r("PopularItem",{key:e.iId,attrs:{recommendInfo:e}})})),1)])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasProduct,expression:"hasProduct"}],staticClass:"section-block"},[r("div",{staticClass:"my-container"},[r("h3",{staticClass:"blobk-title text-primary"},[e._v("PRODUCT")]),r("div",{staticClass:"product-row"},e._l(e.productList.data,(function(e){return r("MultipleSpecItem",{key:e.iId,attrs:{productInfo:e}})})),1),r("div",{staticClass:"btnBox center"},[r("router-link",{staticClass:"btn-primary",staticStyle:{"--width":"120px"},attrs:{to:{name:"product_category",query:{categoryId:0}}}},[e._v("查看商品")])],1)])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},D=[],B=function(){var e=Object(o["e"])([{id:"M",title:"男"},{id:"F",title:"女"},{id:"S",title:"保密"}]),t=Object(o["e"])([{id:"sq01",title:"您畢業的國小"},{id:"sq02",title:"您最愛的寵物名字"},{id:"sq03",title:"您最愛的食物"},{id:"sq04",title:"您最好朋友的名字"},{id:"sq05",title:"您最愛的電影"},{id:"sq06",title:"您的姓名"},{id:"sq07",title:"您的生日"}]);return{genderList:e,questionList:t}},U=(r("d81d"),r("b0c0"),r("7db0"),[{name:"台北市",code:100,region:[{name:"中山區",code:104},{name:"大安區",code:106},{name:"信義區",code:110},{name:"內湖區",code:114},{name:"士林區",code:111},{name:"中正區",code:100},{name:"松山區",code:105},{name:"北投區",code:112},{name:"大同區",code:103},{name:"文山區",code:116},{name:"南港區",code:115},{name:"萬華區",code:108}]},{name:"新北市",code:207,region:[{name:"板橋區",code:220},{name:"新莊區",code:242},{name:"中和區",code:235},{name:"永和區",code:234},{name:"淡水區",code:251},{name:"三重區",code:241},{name:"汐止區",code:221},{name:"新店區",code:231},{name:"土城區",code:236},{name:"蘆洲區",code:247},{name:"三峽區",code:237},{name:"樹林區",code:238},{name:"鶯歌區",code:239},{name:"林口區",code:244},{name:"五股區",code:248},{name:"泰山區",code:243},{name:"八里區",code:249},{name:"三芝區",code:252},{name:"萬里區",code:207},{name:"金山區",code:208},{name:"石門區",code:253},{name:"深坑區",code:222},{name:"石碇區",code:223},{name:"瑞芳區",code:224},{name:"平溪區",code:226},{name:"雙溪區",code:227},{name:"貢寮區",code:228},{name:"坪林區",code:232},{name:"烏來區",code:233}]},{name:"桃園市",code:320,region:[{name:"中壢區",code:320},{name:"平鎮區",code:324},{name:"楊梅區",code:326},{name:"桃園區",code:330},{name:"龜山區",code:333},{name:"八德區",code:334},{name:"蘆竹區",code:338},{name:"大園區",code:337},{name:"龍潭區",code:325},{name:"新屋區",code:327},{name:"觀音區",code:328},{name:"大溪區",code:335},{name:"復興區",code:336}]},{name:"新竹市",code:300,region:[{name:"東區",code:30069},{name:"北區",code:30042},{name:"香山區",code:30093}]},{name:"新竹縣",code:302,region:[{name:"竹北市",code:302},{name:"湖口鄉",code:303},{name:"新豐鄉",code:304},{name:"新埔鎮",code:305},{name:"關西鎮",code:306},{name:"芎林鄉",code:307},{name:"寶山鄉",code:308},{name:"竹東鎮",code:310},{name:"五峰鄉",code:311},{name:"橫山鄉",code:312},{name:"尖石鄉",code:313},{name:"北埔鄉",code:314},{name:"峨嵋鄉",code:315}]},{name:"基隆市",code:200,region:[{name:"仁愛區",code:200},{name:"信義區",code:201},{name:"中正區",code:202},{name:"中山區",code:203},{name:"安樂區",code:204},{name:"暖暖區",code:205},{name:"七堵區",code:206}]},{name:"宜蘭縣",code:260,region:[{name:"宜蘭市",code:260},{name:"頭城鎮",code:261},{name:"礁溪鄉",code:262},{name:"壯圍鄉",code:263},{name:"員山鄉",code:264},{name:"羅東鎮",code:265},{name:"三星鄉",code:266},{name:"大同鄉",code:267},{name:"五結鄉",code:268},{name:"冬山鄉",code:269},{name:"蘇澳鎮",code:270},{name:"南澳鄉",code:272}]},{name:"台中市",code:400,region:[{name:"西屯區",code:407},{name:"北區",code:404},{name:"北屯區",code:406},{name:"西區",code:403},{name:"南區",code:402},{name:"南屯區",code:408},{name:"大里區",code:412},{name:"中區",code:400},{name:"東區",code:401},{name:"太平區",code:411},{name:"沙鹿區",code:433},{name:"龍井區",code:434},{name:"豐原區",code:420},{name:"潭子區",code:427},{name:"大雅區",code:428},{name:"霧峰區",code:413},{name:"烏日區",code:414},{name:"后里區",code:421},{name:"石岡區",code:422},{name:"東勢區",code:423},{name:"和平區",code:424},{name:"新社區",code:426},{name:"神岡區",code:429},{name:"大肚區",code:432},{name:"梧棲區",code:435},{name:"清水區",code:436},{name:"大甲區",code:437},{name:"外埔區",code:438},{name:"大安區",code:439}]},{name:"彰化縣",code:500,region:[{name:"彰化市",code:500},{name:"員林鎮",code:510},{name:"鹿港鎮",code:505},{name:"和美鎮",code:508},{name:"大村鄉",code:515},{name:"北斗鎮",code:521},{name:"溪湖鎮",code:514},{name:"芬園鄉",code:502},{name:"花壇鄉",code:503},{name:"秀水鄉",code:504},{name:"福興鄉",code:506},{name:"線西鄉",code:507},{name:"伸港鄉",code:509},{name:"社頭鄉",code:511},{name:"永靖鄉",code:512},{name:"埔心鄉",code:513},{name:"埔鹽鄉",code:516},{name:"田中鎮",code:520},{name:"田尾鄉",code:522},{name:"埤頭鄉",code:523},{name:"溪州鄉",code:524},{name:"竹塘鄉",code:525},{name:"二林鎮",code:526},{name:"大城鄉",code:527},{name:"芳苑鄉",code:528},{name:"二水鄉",code:530}]},{name:"雲林縣",code:630,region:[{name:"斗南鎮",code:630},{name:"大埤鄉",code:631},{name:"虎尾鎮",code:632},{name:"土庫鎮",code:633},{name:"褒忠鄉",code:634},{name:"東勢鄉",code:635},{name:"臺西鄉",code:636},{name:"崙背鄉",code:637},{name:"麥寮鄉",code:638},{name:"斗六市",code:640},{name:"林內鄉",code:643},{name:"古坑鄉",code:646},{name:"莿桐鄉",code:647},{name:"西螺鎮",code:648},{name:"二崙鄉",code:649},{name:"北港鎮",code:651},{name:"水林鄉",code:652},{name:"口湖鄉",code:653},{name:"四湖鄉",code:654},{name:"元長鄉",code:655}]},{name:"苗栗縣",code:350,region:[{name:"竹南鎮",code:350},{name:"頭份鎮",code:351},{name:"三灣鄉",code:352},{name:"南莊鄉",code:353},{name:"獅潭鄉",code:354},{name:"後龍鎮",code:356},{name:"通霄鎮",code:357},{name:"苑裡鎮",code:358},{name:"苗栗市",code:360},{name:"造橋鄉",code:361},{name:"頭屋鄉",code:362},{name:"公館鄉",code:363},{name:"大湖鄉",code:364},{name:"泰安鄉",code:365},{name:"銅鑼鄉",code:366},{name:"三義鄉",code:367},{name:"西湖鄉",code:368},{name:"卓蘭鎮",code:369}]},{name:"南投縣",code:540,region:[{name:"南投市",code:540},{name:"中寮鄉",code:541},{name:"草屯鎮",code:542},{name:"國姓鄉",code:544},{name:"埔里鎮",code:545},{name:"仁愛鄉",code:546},{name:"名間鄉",code:551},{name:"集集鎮",code:552},{name:"水里鄉",code:553},{name:"魚池鄉",code:555},{name:"信義鄉",code:556},{name:"竹山鎮",code:557},{name:"鹿谷鄉",code:558}]},{name:"台南市",code:700,region:[{name:"東區",code:701},{name:"北區",code:704},{name:"永康區",code:710},{name:"中西區",code:700},{name:"善化區",code:741},{name:"新市區",code:744},{name:"安平區",code:708},{name:"南區",code:702},{name:"安南區",code:709},{name:"仁德區",code:717},{name:"新營區",code:730},{name:"安定區",code:745},{name:"麻豆區",code:721},{name:"佳里區",code:722},{name:"歸仁區",code:711},{name:"新化區",code:712},{name:"左鎮區",code:713},{name:"玉井區",code:714},{name:"楠西區",code:715},{name:"南化區",code:716},{name:"關廟區",code:718},{name:"龍崎區",code:719},{name:"官田區",code:720},{name:"西港區",code:723},{name:"七股區",code:724},{name:"將軍區",code:725},{name:"學甲區",code:726},{name:"北門區",code:727},{name:"後壁區",code:731},{name:"白河區",code:732},{name:"東山區",code:733},{name:"六甲區",code:734},{name:"下營區",code:735},{name:"柳營區",code:736},{name:"鹽水區",code:737},{name:"大內區",code:742},{name:"山上區",code:743}]},{name:"高雄市",code:800,region:[{name:"三民區",code:807},{name:"左營區",code:813},{name:"苓雅區",code:802},{name:"鼓山區",code:804},{name:"楠梓區",code:811},{name:"前鎮區",code:806},{name:"鳳山區",code:830},{name:"新興區",code:800},{name:"前金區",code:801},{name:"小港區",code:812},{name:"大寮區",code:831},{name:"岡山區",code:820},{name:"鹽埕區",code:803},{name:"仁武區",code:814},{name:"大社區",code:815},{name:"旗津區",code:805},{name:"路竹區",code:821},{name:"阿蓮區",code:822},{name:"田寮區",code:823},{name:"燕巢區",code:824},{name:"橋頭區",code:825},{name:"梓官區",code:826},{name:"彌陀區",code:827},{name:"永安區",code:828},{name:"湖內區",code:829},{name:"林園區",code:832},{name:"鳥松區",code:833},{name:"大樹區",code:840},{name:"旗山區",code:842},{name:"美濃區",code:843},{name:"六龜區",code:844},{name:"內門區",code:845},{name:"杉林區",code:846},{name:"甲仙區",code:847},{name:"桃源區",code:848},{name:"那瑪夏區",code:849},{name:"茂林區",code:851},{name:"茄萣區",code:852}]},{name:"嘉義市",code:600,region:[{name:"東區",code:60070},{name:"西區",code:60085}]},{name:"嘉義縣",code:602,region:[{name:"番路鄉",code:602},{name:"梅山鄉",code:603},{name:"竹崎鄉",code:604},{name:"阿里山",code:605},{name:"中埔鄉",code:606},{name:"大埔鄉",code:607},{name:"水上鄉",code:608},{name:"鹿草鄉",code:611},{name:"太保市",code:612},{name:"朴子市",code:613},{name:"東石鄉",code:614},{name:"六腳鄉",code:615},{name:"新港鄉",code:616},{name:"民雄鄉",code:621},{name:"大林鎮",code:622},{name:"溪口鄉",code:623},{name:"義竹鄉",code:624},{name:"布袋鎮",code:625}]},{name:"屏東縣",code:900,region:[{name:"屏東市",code:900},{name:"三地門",code:901},{name:"霧臺鄉",code:902},{name:"瑪家鄉",code:903},{name:"九如鄉",code:904},{name:"里港鄉",code:905},{name:"高樹鄉",code:906},{name:"鹽埔鄉",code:907},{name:"長治鄉",code:908},{name:"麟洛鄉",code:909},{name:"竹田鄉",code:911},{name:"內埔鄉",code:912},{name:"萬丹鄉",code:913},{name:"潮州鎮",code:920},{name:"泰武鄉",code:921},{name:"來義鄉",code:922},{name:"萬巒鄉",code:923},{name:"崁頂鄉",code:924},{name:"新埤鄉",code:925},{name:"南州鄉",code:926},{name:"林邊鄉",code:927},{name:"東港鎮",code:928},{name:"琉球鄉",code:929},{name:"佳冬鄉",code:931},{name:"新園鄉",code:932},{name:"枋寮鄉",code:940},{name:"枋山鄉",code:941},{name:"春日鄉",code:942},{name:"獅子鄉",code:943},{name:"車城鄉",code:944},{name:"牡丹鄉",code:945},{name:"恆春鎮",code:946},{name:"滿州鄉",code:947}]},{name:"台東縣",code:950,region:[{name:"臺東市",code:950},{name:"綠島鄉",code:951},{name:"蘭嶼鄉",code:952},{name:"延平鄉",code:953},{name:"卑南鄉",code:954},{name:"鹿野鄉",code:955},{name:"關山鎮",code:956},{name:"海端鄉",code:957},{name:"池上鄉",code:958},{name:"東河鄉",code:959},{name:"成功鎮",code:961},{name:"長濱鄉",code:962},{name:"太麻里鄉",code:963},{name:"金峰鄉",code:964},{name:"大武鄉",code:965},{name:"達仁鄉",code:966}]},{name:"花蓮縣",code:970,region:[{name:"花蓮市",code:970},{name:"新城鄉",code:971},{name:"秀林鄉",code:972},{name:"吉安鄉",code:973},{name:"壽豐鄉",code:974},{name:"鳳林鎮",code:975},{name:"光復鄉",code:976},{name:"豐濱鄉",code:977},{name:"瑞穗鄉",code:978},{name:"萬榮鄉",code:979},{name:"玉里鎮",code:981},{name:"卓溪鄉",code:982},{name:"富里鄉",code:983}]},{name:"澎湖縣",code:880,region:[{name:"馬公市",code:880},{name:"西嶼鄉",code:881},{name:"望安鄉",code:882},{name:"七美鄉",code:883},{name:"白沙鄉",code:884},{name:"湖西鄉",code:885}]},{name:"金門縣",code:890,region:[{name:"金沙鎮",code:890},{name:"金湖鎮",code:891},{name:"金寧鄉",code:892},{name:"金城鎮",code:893},{name:"烈嶼鄉",code:894},{name:"烏坵鄉",code:896}]},{name:"連江縣",code:209,region:[{name:"南竿鄉",code:209},{name:"北竿鄉",code:210},{name:"莒光鄉",code:211},{name:"東引鄉",code:212}]}]),F=function(){var e=Object(o["e"])(U),t=Object(o["e"])({city:"",district:"",code:0}),r=Object(o["a"])((function(){return e.map((function(e){return e.name}))})),a=Object(o["a"])((function(){var r=e.find((function(e){return e.name===t.city}));return void 0!==r?r.region:[]})),n=function(){var e=a.value.find((function(e){return e.name===t.district}));t.code=void 0!==e?e.code:0};return Object(o["h"])(a,(function(){t.district="",t.code=0})),Object(o["h"])((function(){return t.district}),(function(){n()})),{addressInfo:t,cityList:r,districtList:a}},G=(r("fb6a"),r("4e82"),function(){var e=function(e,t){var r=e.slice(0,t);return 0===r.length?[]:r.reduce((function(e,t){var r=t.specs;return 0===r.length||(r.sort((function(e,t){return e.price.iSpecPromoPrice-t.price.iSpecPromoPrice})),e.push(Object(m["a"])(Object(m["a"])({},t),{},{specs:r}))),e}),[])};return{processProduct:e}}),V=function(){return{full_amount:{1:{routeName:"quota"},2:{routeName:"quanity"}},red_with_green:{1:{routeName:"redwithgreen"}}}},Z=(r("4de4"),r("159b"),r("a434"),function(e,t){var r=Object(o["f"])(!1),a=Object(o["e"])({data:[]}),n=Object(o["e"])({data:[]}),i=Object(o["f"])(""),s=Object(o["f"])(null),c=Object(o["f"])(null),u=Object(o["a"])((function(){return e.$store.state.activity.activityInfo.id})),l=Object(o["a"])((function(){return e.$store.getters["activity/criteria"]})),p=Object(o["a"])((function(){return a.data.length>0})),v=Object(o["a"])((function(){return n.data.reduce((function(e,t){return e+=t.buyCount,e}),0)})),f=Object(o["a"])((function(){return n.data.reduce((function(e,t){return e+=t.buyCount*t.price,e}),0)})),b=Object(o["a"])((function(){var t=l.value,r=t.status,a=t.iPromoAmount,n=t.iPromoType,i=t.iRedAmount;if(0===r)return"";if(void 0!==i)return"";var o=e.$options.filters.currency,s={1:"固定優惠".concat(o(a),"元"),2:"折扣優惠".concat(o(a),"元"),3:"折扣優惠".concat(a,"%")};return"已符合滿額折扣(".concat(s[n],")")})),g=function(e){var t=e.filter((function(e){var t=null!==e.product&&null!==e.full_amount_meta_spec;return!!t&&e.full_amount_meta_spec.iSpecStock>0}));return t.forEach((function(e){return e.buyCount=0})),t},h=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oo[t]({activity_product_promotions_ids:u.value});case 2:r=e.sent,a.data=g(r.aaData),n.data=[];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=a.data.find((function(t){return t.iId===e.iId}));void 0!==t&&(t.buyCount=e.count)},C=function(e){var t=e.iId,r=n.data.find((function(e){return e.iId===t}));void 0===r?(n.data.push(Object(m["a"])(Object(m["a"])({},e),{},{buyCount:1})),_({iId:t,count:1})):(r.buyCount+=1,_({iId:t,count:r.buyCount}))},y=function(e){var t=n.data.find((function(t){return t.iId===e.iId}));void 0!==t&&(t.buyCount=e.count,_({iId:e.iId,count:e.count}))},w=function(e){var t=n.data.find((function(t){return t.iId===e}));-1!==t&&(n.data.splice(t,1),_({iId:e,count:0}))},k=function(e,t){var r=n.data.reduce((function(e,t){var r=t.productCode,a=t.specId,n=t.buyCount;return e.push({vProductCode:r,iSpecId:a,iCount:n}),e}),[]);return{iActivityProductPromotionsId:e,code:t,products:r}},x=function(e){return e},O=function(e){c.value.updateIntroInfo(e),c.value.openModal()},j=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(o,c){var l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(x(o)){t.next=2;break}return t.abrupt("return");case 2:return r.value=!0,l=k(u.value,c),t.next=6,ao.addCart(l);case 6:d=t.sent,1===d.status&&(i.value=d.message,n.data=[],a.data.forEach((function(e){return e.buyCount=0})),e.$store.dispatch("cart/getAllCart")),s.value.openModal(),r.value=!1;case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,h(t);case 3:r.value=!1;case 4:case"end":return e.stop()}}),e)})))),Object(o["h"])(u,Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,h(t);case 3:r.value=!1;case 4:case"end":return e.stop()}}),e)})))),{isLoading:r,productList:a,pickedList:n,cartMessage:i,cartModal:s,productModal:c,activityId:u,criteria:l,hasProduct:p,pickedCount:v,pickedTotalDollar:f,discountText:b,getActivityProduct:h,pickedHandler:C,changeSpecCount:y,removePickedItem:w,createCartParams:k,introHandler:O,addCart:j}}),z=function(){var e=Object(o["e"])({1:"vInvoicePhoneId",2:"vInvoiceUserId",3:"vInvoiceLoveId",4:"vInvoiceEmail",5:"vInvoiceNum"}),t=function(e){return e.reduce((function(e,t){return e.push(Object(m["a"])(Object(m["a"])({},t),{},{cartType:"normal",componentName:"NormalDetailRow"})),e}),[])},r=function(e){return e.reduce((function(e,t){var r="full_amount"===t.vActivityCode?"ActivityDetailRow":"MatchDetailRow";return e.push(Object(m["a"])(Object(m["a"])({},t),{},{cartType:"activity",componentName:r})),e}),[])};return{invoiceMappingKey:e,processNormalProduct:t,processActivityProduct:r}},K=B,Y=F,J=G,Q=V,W=Z,X=z,ee=r("d415"),te=r.n(ee),re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"popular-item",attrs:{to:{name:"product_detail",params:{productCode:e.productCode}}}},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImageUrl,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.productName))]),r("p",{staticClass:"intro text-input"},[e._v(e._s(e.productSummary))]),r("div",{staticClass:"price"},[r("span",{staticClass:"text-input"},[e._v("NT$"+e._s(e._f("currency")(e.normalPrice)))]),r("span",{staticClass:"text-primary"},[e._v("NT$"+e._s(e._f("currency")(e.promotePrice)))])])])])},ae=[],ne={props:{recommendInfo:{type:Object,required:!0}},setup:function(e){var t=Object(o["g"])(e),r=t.recommendInfo,a=Object(o["a"])((function(){var e=r.value.vImages;return e.length>0?e[0]:""})),n=Object(o["a"])((function(){return r.value.vProductName})),i=Object(o["a"])((function(){return r.value.vProductSummary})),s=Object(o["a"])((function(){return r.value.specs[0]})),c=Object(o["a"])((function(){return s.value.price.iSpecPrice})),u=Object(o["a"])((function(){return s.value.price.iSpecPromoPrice})),l=Object(o["a"])((function(){return r.value.vProductCode}));return{productImageUrl:a,productName:n,productSummary:i,normalPrice:c,promotePrice:u,productCode:l}}},ie=ne,oe=(r("dcb0"),Object(R["a"])(ie,re,ae,!1,null,null,null)),se=oe.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"multiple-spec-item",attrs:{to:{name:"product_detail",params:{productCode:e.productCode}}}},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImageUrl,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.productName))]),r("p",{staticClass:"intro text-input"},[e._v(e._s(e.productSummary))]),r("div",{staticClass:"price"},[r("span",{staticClass:"text-input"},[e._v("NT$"+e._s(e._f("currency")(e.normalPrice)))]),r("span",{staticClass:"text-primary"},[e._v("NT$"+e._s(e._f("currency")(e.promotePrice)))])])])])},ue=[],le={props:{productInfo:{type:Object,required:!0}},setup:function(e){var t=Object(o["g"])(e),r=t.productInfo,a=Object(o["a"])((function(){var e=r.value.vImages;return e.length>0?e[0]:""})),n=Object(o["a"])((function(){return r.value.vProductName})),i=Object(o["a"])((function(){return r.value.vProductSummary})),s=Object(o["a"])((function(){return r.value.specs[0]})),c=Object(o["a"])((function(){return s.value.price.iSpecPrice})),u=Object(o["a"])((function(){return s.value.price.iSpecPromoPrice})),l=Object(o["a"])((function(){return r.value.vProductCode}));return{productImageUrl:a,productName:n,productSummary:i,normalPrice:c,promotePrice:u,productCode:l}}},de=le,me=(r("b3bd"),Object(R["a"])(de,ce,ue,!1,null,null,null)),pe=me.exports,ve={name:"Home",components:{PopularItem:se,MultipleSpecItem:pe},metaInfo:function(){return{title:"首頁"}},setup:function(e,t){var r=t.root,a=J(),n=a.processProduct,i=Object(o["e"])({data:[]}),s=Object(o["e"])({data:[]}),c=Object(o["e"])({data:[]}),u=Object(o["f"])(!1),m=Object(o["a"])((function(){return s.data.length>0})),p=Object(o["a"])((function(){return c.data.length>0})),v=function(e){return e.reduce((function(e,t){return e=e.concat(t.vImages),e}),[])},f=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.data=v(t.aaData),e.next=3,r.$nextTick();case 3:new te.a("#banner-swiper",{loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination"}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.value=!0,e.next=3,Promise.all([no.banner(),io.product_recommend(),io.product({})]);case 3:t=e.sent,r=Object(l["a"])(t,3),a=r[0],i=r[1],o=r[2],f(a),s.data=n(i.aaData,3),c.data=n(o.aaData,10),u.value=!1;case 9:case"end":return e.stop()}}),e)})))),{bannerList:i,recommendList:s,productList:c,isLoading:u,hasRecommend:m,hasProduct:p}}},fe=ve,be=(r("fa89"),Object(R["a"])(fe,E,D,!1,null,"527d6a8d",null)),ge=be.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signin"},[a("div",{staticClass:"center-block"},[e._m(0),a("div",{staticClass:"signin-bottom"},[a("div",{staticClass:"left"},[a("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[a("div",{staticClass:"form-row"},[a("p",{staticClass:"form-title"},[e._v("帳號")]),a("validation-provider",{staticClass:"form-content",attrs:{rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.account,expression:"user.account",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"請輸入手機號碼"},domProps:{value:e.user.account},on:{input:function(t){t.target.composing||e.$set(e.user,"account",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1),a("div",{staticClass:"form-row"},[a("p",{staticClass:"form-title"},[e._v("密碼")]),a("validation-provider",{staticClass:"form-content",attrs:{rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"請輸入密碼"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1)]),a("div",{staticClass:"btnBox"},[a("button",{staticClass:"btn-primary",on:{click:e.loginHandler}},[e._v("登入")])]),a("p",{staticClass:"forgot"},[a("router-link",{attrs:{to:"/forgot/step1"}},[e._v("忘記密碼?")])],1)],1),a("div",{staticClass:"right"},[a("p",{staticClass:"not-member"},[e._v("還不是會員嗎?")]),e._m(1),a("img",{staticClass:"register-img",attrs:{src:r("0fca")}}),a("div",{staticClass:"btnBox no-mt"},[a("router-link",{staticClass:"btn-hover-primary",attrs:{to:{name:"register-step1"}}},[e._v(" 立即註冊加入會員 ")])],1)])])]),a("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),a("modal-message",{ref:"signinModal",on:{confirm:e.confirmHandler}},[a("p",[e._v(e._s(e.signinInfo.message))])])],1)},_e=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"signin-slogon"},[r("p",[e._v("如果已經是是會員")]),r("p",[e._v("登入即可快速結帳 / 查看訂單 / 修改個人資訊以及更多功能")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"encourage-box"},[r("p",[e._v("加入會員，享受專屬服務。")]),r("p",[e._v("並能接受第一手最新消息!")])])}],Ce={name:"signin",metaInfo:function(){return{title:"登入"}},setup:function(e,t){var r=t.root,a=Object(o["e"])({account:"0986104667",password:"abc123"}),n=Object(o["f"])(!1),i=Object(o["f"])(null),s=Object(o["f"])(null),c=Object(o["e"])({status:!1,message:""}),u=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return n.value=!0,e.next=8,r.$store.dispatch("auth/login",{account:x(a.account),password:x(a.password)});case 8:o=e.sent,c.status=1===o.status,c.message=o.message,s.value.openModal(),n.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){if(c.status){var e=k.getSessionItem("backInfo");r.$store.dispatch("cart/getAllCart"),r.$router.replace(null!==e?e.url:"/")}s.value.closeModal()};return Object(o["c"])((function(){k.removeSessionItem("backInfo")})),{user:a,form:i,loginHandler:u,isLoading:n,signinModal:s,signinInfo:c,confirmHandler:l}}},ye=Ce,we=(r("5099"),Object(R["a"])(ye,he,_e,!1,null,"09d0295e",null)),ke=we.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-step1"},[r("div",{staticClass:"outline-block"},[r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("手機號碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.mobile,expression:"user.mobile",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"為您的帳號，共10碼"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("密碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|password",vid:"a"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"6-12碼英數字"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("確認密碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|confirmPw:@a"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirm_password,expression:"user.confirm_password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"6-12碼英數字"},domProps:{value:e.user.confirm_password},on:{input:function(t){t.target.composing||e.$set(e.user,"confirm_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("姓名 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入您的中文姓名"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("性別 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"gender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.genderList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("忘記密碼安全問題 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.security_question,expression:"user.security_question"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"security_question",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.questionList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("安全問題答案 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.security_answer,expression:"user.security_answer",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.user.security_answer},on:{input:function(t){t.target.composing||e.$set(e.user,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row checkbox-row"},[r("div",{staticClass:"form-title text-right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.isAgree,expression:"user.isAgree"}],staticClass:"hook-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.user.isAgree)?e._i(e.user.isAgree,null)>-1:e.user.isAgree},on:{change:function(t){var r=e.user.isAgree,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&e.$set(e.user,"isAgree",r.concat([i])):o>-1&&e.$set(e.user,"isAgree",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.user,"isAgree",n)}}})]),r("div",{staticClass:"term-content text-form"},[e._v(" 我同意"),e._l(e.termInfo,(function(t,a,n){return r("TermTrigger",{key:a,attrs:{termId:t.id,termTitle:t.title,totalTerms:e.totalTerms,order:n},on:{"term-trigger":e.termTrigger}})}))],2)]),r("div",{staticClass:"form-row divide-line"}),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("電子信箱")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("出生日期")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"birthday"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.birthday,expression:"user.birthday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.user.birthday},on:{input:function(t){t.target.composing||e.$set(e.user,"birthday",t.target.value)}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("縣市")]),r("div",{staticClass:"form-content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.city,expression:"addressInfo.city"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.addressInfo,"city",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.cityList,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("地區")]),r("div",{staticClass:"form-content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.district,expression:"addressInfo.district"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.addressInfo,"district",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.districtList,(function(t){return r("option",{key:t.name,domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])}))],2)])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("地址")]),r("div",{staticClass:"form-content"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.address,expression:"user.address",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"地址"},domProps:{value:e.user.address},on:{input:function(t){t.target.composing||e.$set(e.user,"address",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])]),r("div",{staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",staticStyle:{"--width":"150px"},on:{click:e.submitHandler}},[e._v("下一步")])])],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"checkModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.responseInfo.message))])]),r("modal-message",{ref:"agreeModal",attrs:{cancelText:"確認",showCancel:!0,showConfirm:!1}},[r("p",[e._v("請同意條款")])]),r("modal-message",{ref:"termModal",attrs:{cancelText:"確認",showCancel:!0,showConfirm:!1}},[r("p",{domProps:{innerHTML:e._s(e.termContent)}})])],1)},Oe=[],je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"term-trigger",on:{click:e.triggerHandler}},[r("span",{staticClass:"title"},[e._v("「"+e._s(e.termTitle)+"」")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLast,expression:"!isLast"}],staticClass:"and"},[e._v("及")])])},Ie=[],Ne=(r("a9e3"),{props:{termId:{type:Number,required:!0},termTitle:{type:String,required:!0},totalTerms:{type:Number,required:!0},order:{type:Number,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.termId,i=a.totalTerms,s=a.order,c=Object(o["a"])((function(){return s.value===i.value-1})),u=function(){r("term-trigger",n.value)};return{isLast:c,triggerHandler:u}}}),Pe=Ne,Te=(r("04ce"),Object(R["a"])(Pe,je,Ie,!1,null,"ee8935f6",null)),$e=Te.exports,Le={name:"register-step1",components:{TermTrigger:$e},metaInfo:function(){return{title:"加入會員"}},setup:function(e,t){var r=t.root,a=K(),n=a.genderList,i=a.questionList,s=Y(),c=s.addressInfo,u=s.cityList,l=s.districtList,p=Object(o["e"])({mobile:"",password:"",confirm_password:"",name:"",gender:"",security_question:"",security_answer:"",isAgree:!1,email:"",birthday:"",address:""}),v=Object(o["e"])({status:0,message:"",type:""}),f=Object(o["f"])(""),b=Object(o["f"])(null),g=Object(o["f"])(null),_=Object(o["f"])(null),C=Object(o["f"])(null),y=Object(o["f"])(!1),w=Object(o["a"])((function(){return r.$store.getters.termInfo})),O=Object(o["a"])((function(){return h.a.size(w.value)})),j=function(e){f.value=r.$store.getters.getTermContent(e),C.value.openModal()},I=function(){return eo.register_check({register_check:{mobile:x(p.mobile),password:x(p.password),confirm_password:x(p.confirm_password),name:p.name,gender:p.gender,security_question:p.security_question,security_answer:p.security_answer}})},N=function(){var e=h.a.cloneDeep(p);return delete e.isAgree,e.birthday=e.birthday.replace(/-/g,"/"),eo.register({register:Object(m["a"])(Object(m["a"])({},e),{},{mobile:x(e.mobile),password:x(e.password),confirm_password:x(e.confirm_password),city:c.city,district:c.district})})},P=function(e,t){v.status=e.status,v.message=e.message,v.type=t,g.value.openModal(),y.value=!1},T=function(e){k.setSessionItem("step1",{user:p,addressInfo:c,tempToken:e})},$=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=k.getSessionItem("step1"),null!==t){e.next=3;break}return e.abrupt("return");case 3:for(a in t.user)p[a]=t.user[a];return c.city=t.addressInfo.city,e.next=7,r.$nextTick();case 7:c.district=t.addressInfo.district;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.value.validate();case 2:if(t=e.sent,p.isAgree||_.value.openModal(),t&&p.isAgree){e.next=6;break}return e.abrupt("return");case 6:return y.value=!0,e.next=9,I();case 9:if(r=e.sent,0!==r.status){e.next=13;break}return P(r,"register_check"),e.abrupt("return");case 13:return e.next=15,N();case 15:a=e.sent,P(a,"register"),1===a.status&&T(a.aaData.temp_access_token);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){if(0===v.status)return g.value.closeModal();"register"===v.type&&r.$router.push("/register/step2")};return Object(o["d"])((function(){$()})),{genderList:n,questionList:i,user:p,addressInfo:c,cityList:u,districtList:l,submitHandler:L,form:b,isLoading:y,responseInfo:v,confirmHandler:S,checkModal:g,termInfo:w,totalTerms:O,termContent:f,agreeModal:_,termTrigger:j,termModal:C}}},Se=Le,Ae=(r("12f8"),Object(R["a"])(Se,xe,Oe,!1,null,"4d0adb9c",null)),qe=Ae.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-step2"},[r("div",{staticClass:"outline-block"},[r("div",{staticClass:"top"},[r("p",{staticClass:"text-form"},[e._v("已寄送驗正碼至"+e._s(e.user.mobile)+"，若您未收到驗證碼請按下方「重新寄送驗證碼」")])]),r("div",{staticClass:"line"}),r("div",{staticClass:"bottom"},[r("h3",{staticClass:"text-form"},[e._v("手機驗證碼")]),r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title"},[e._v("手機驗證碼")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.code,expression:"user.code",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入驗證碼"},domProps:{value:e.user.code},on:{input:function(t){t.target.composing||e.$set(e.user,"code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("div",{staticClass:"btnBox no-mt"},[r("button",{staticClass:"btn-primary",staticStyle:{"--width":"110px"},on:{click:e.resend_verify}},[e._v("發送驗證碼")])]),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text text-align-left"},[e._v(e._s(a[0]))])]}}])})],1)])],1),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"btn-primary",staticStyle:{"--width":"150px"},on:{click:e.submitHandler}},[e._v("送出")])])]),r("modal-message",{ref:"checkModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.tipInfo.message))])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Me=[],He={name:"register-step2",metaInfo:function(){return{title:"帳號驗證"}},setup:function(e,t){var r=t.root,a=Object(o["e"])({mobile:"",tempToken:"",code:"999999"}),n=Object(o["e"])({status:0,message:"",type:""}),i=Object(o["f"])(!1),s=Object(o["f"])(null),c=Object(o["f"])(null),u=function(){var e=k.getSessionItem("step1");if(null===e)return n.message="請重新填寫表單",n.type="check",void c.value.openModal();a.mobile=e.user.mobile,a.tempToken=e.tempToken},l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,e.next=3,eo.resend_register_verify({temp_access_token:a.tempToken});case 3:t=e.sent,n.status=t.status,n.message=t.message,n.type="resend",c.value.openModal(),i.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i.value=!0,e.next=8,eo.register_verify({temp_access_token:a.tempToken,verify_code:a.code});case 8:r=e.sent,console.log(r),n.status=r.status,n.message=r.message,n.type="verify",c.value.openModal(),i.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){if("check"===n.type)return r.$router.push("/register/step1");if("resend"!==n.type)"verify"!==n.type||(1===n.status?(k.removeSessionItem("step1"),r.$router.push("/signin")):c.value.closeModal());else{var e=n.status;0===e||1===e?c.value.closeModal():(k.removeSessionItem("step1"),r.$router.push("/register/step1"))}};return Object(o["d"])((function(){u()})),{user:a,checkModal:c,tipInfo:n,confirmHandler:p,isLoading:i,submitHandler:m,form:s,resend_verify:l}}},Ee=He,De=(r("e72f"),Object(R["a"])(Ee,Re,Me,!1,null,"813324ba",null)),Be=De.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"forgot-step1"},[r("div",{staticClass:"outline-block"},[r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("手機號碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.mobile,expression:"user.mobile",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"共10碼"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("忘記密碼安全問題 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.security_question,expression:"user.security_question"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"security_question",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.questionList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("安全問題答案 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.security_answer,expression:"user.security_answer",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.user.security_answer},on:{input:function(t){t.target.composing||e.$set(e.user,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row divide-line"})]),r("div",{staticClass:"bottom-block"},[r("p",{staticClass:"text-form font-bold"},[e._v("請輸入您的手機號碼及安全問題答案，系統將寄送驗證碼至您的手機，驗證身分後即可重設密碼")]),r("div",{staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",on:{click:e.submitHandler}},[e._v("確認")])])])],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"checkModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.checkInfo.message))])])],1)},Fe=[],Ge={name:"forgot-step1",metaInfo:function(){return{title:"忘記密碼"}},setup:function(e,t){var r=t.root,a=K(),n=a.questionList,i=Object(o["f"])(null),s=Object(o["e"])({mobile:"",security_question:"",security_answer:""}),c=Object(o["e"])({status:0,message:""}),u=Object(o["f"])(!1),l=Object(o["f"])(null),m=function(e){k.setSessionItem("forgot",{user:s,tempToken:e})},p=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return u.value=!0,e.next=8,eo.forgot_password({mobile:x(s.mobile),security_question:s.security_question,security_answer:s.security_answer});case 8:r=e.sent,c.status=r.status,c.message=r.message,1===r.status&&m(r.aaData.temp_access_token),l.value.openModal(),u.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){0===c.status?l.value.closeModal():r.$router.push("/forgot/step2")};return{questionList:n,form:i,user:s,submitHandler:p,isLoading:u,confirmHandler:v,checkModal:l,checkInfo:c}}},Ve=Ge,Ze=(r("a4df"),Object(R["a"])(Ve,Ue,Fe,!1,null,"1b66e74d",null)),ze=Ze.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-step2"},[r("div",{staticClass:"outline-block"},[r("div",{staticClass:"top"},[r("p",{staticClass:"text-form"},[e._v("已寄送驗正碼至"+e._s(e.user.mobile)+"，若您未收到驗證碼請按下方「重新寄送驗證碼」")])]),r("div",{staticClass:"line"}),r("div",{staticClass:"bottom"},[r("h3",{staticClass:"text-form"},[e._v("手機驗證碼")]),r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title"},[e._v("手機驗證碼")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.code,expression:"user.code",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入驗證碼"},domProps:{value:e.user.code},on:{input:function(t){t.target.composing||e.$set(e.user,"code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("div",{staticClass:"btnBox no-mt"},[r("button",{staticClass:"btn-primary",on:{click:e.resend_verify}},[e._v("發送驗證碼")])]),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text text-align-left"},[e._v(e._s(a[0]))])]}}])})],1)])],1),r("div",{staticClass:"btnBox submitBox"},[r("button",{staticClass:"btn-primary",on:{click:e.submitHandler}},[e._v("送出")])])]),r("modal-message",{ref:"checkModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.tipInfo.message))])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Ye=[],Je={name:"register-step2",metaInfo:function(){return{title:"忘記密碼(簡訊驗證)"}},setup:function(e,t){var r=t.root,a=Object(o["e"])({mobile:"",tempToken:"",code:"999999"}),n=Object(o["e"])({status:0,message:"",type:""}),i=Object(o["f"])(!1),s=Object(o["f"])(null),c=Object(o["f"])(null),u=function(){var e=k.getSessionItem("forgot");if(null===e)return n.message="請重新填寫表單",n.type="check",void c.value.openModal();a.mobile=e.user.mobile,a.tempToken=e.tempToken},l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,e.next=3,eo.resend_forget_verify({temp_access_token:a.tempToken});case 3:t=e.sent,n.status=t.status,n.message=t.message,n.type="resend",c.value.openModal(),i.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i.value=!0,e.next=8,eo.forgot_password_verify({temp_access_token:a.tempToken,verify_code:a.code});case 8:r=e.sent,n.status=r.status,n.message=r.message,n.type="verify",c.value.openModal(),i.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){if("check"===n.type)return r.$router.push("/forgot/step1");if("resend"!==n.type)if("verify"!==n.type);else{var e=n.status;0===e?c.value.closeModal():1===e?r.$router.push("/forgot/step3"):2===e&&(k.removeSessionItem("forgot"),r.$router.push("/forgot/step1"))}else{var t=n.status;0===t||2===t?(k.removeSessionItem("forgot"),r.$router.push("/forgot/step1")):c.value.closeModal()}};return Object(o["d"])((function(){u()})),{user:a,checkModal:c,tipInfo:n,confirmHandler:p,isLoading:i,submitHandler:m,form:s,resend_verify:l}}},Qe=Je,We=(r("c74c"),Object(R["a"])(Qe,Ke,Ye,!1,null,"86c52c0c",null)),Xe=We.exports,et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"forgot-step1"},[r("div",{staticClass:"outline-block"},[r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("新密碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|password",vid:"a"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"6-12碼英數字"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[r("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("確認新密碼 ")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|confirmPw:@a"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirm_password,expression:"user.confirm_password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"6-12碼英數字"},domProps:{value:e.user.confirm_password},on:{input:function(t){t.target.composing||e.$set(e.user,"confirm_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row divide-line"})]),r("div",{staticClass:"bottom-block"},[r("div",{staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",on:{click:e.submitHandler}},[e._v("確認")])])])],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"checkModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.tipInfo.message))])])],1)},tt=[],rt={name:"forgot-step3",metaInfo:function(){return{title:"重設密碼"}},setup:function(e,t){var r=t.root,a=Object(o["f"])(null),n=Object(o["e"])({password:"",confirm_password:"",tempToken:""}),i=Object(o["e"])({status:0,message:"",type:""}),s=Object(o["f"])(!1),c=Object(o["f"])(null),u=function(){var e=k.getSessionItem("forgot");if(null===e)return i.message="請重新填寫表單",i.type="check",void c.value.openModal();n.tempToken=e.tempToken},l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return s.value=!0,e.next=8,eo.reset_password({temp_access_token:n.tempToken,new_password:x(n.password),confirm_password:x(n.confirm_password)});case 8:r=e.sent,i.status=r.status,i.message=r.message,i.type="reset",c.value.openModal(),s.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){if("check"===i.type)return r.$router.push("/forgot/step1");var e=i.status;0===e?c.value.closeModal():1===e?(k.removeSessionItem("forgot"),r.$router.push("/signin")):2===e&&(k.removeSessionItem("forgot"),r.$router.push("/forgot/step1"))};return Object(o["d"])((function(){u()})),{form:a,user:n,submitHandler:l,isLoading:s,confirmHandler:m,checkModal:c,tipInfo:i}}},at=rt,nt=(r("a3a5"),Object(R["a"])(at,et,tt,!1,null,"14690856",null)),it=nt.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"product_detail"},[r("h3",{staticClass:"page-name"},[e._v(e._s(e.productIntro.category))]),r("div",{staticClass:"product-top"},[r("div",{staticClass:"slideBox"},[e.showGallery?r("ImageGallery",{attrs:{bannerList:e.bannerList.data}}):e._e()],1),r("div",{staticClass:"descBox"},[r("p",{staticClass:"productNum"},[e._v(e._s(e.productIntro.num))]),r("p",{staticClass:"productName text-input"},[e._v(e._s(e.productIntro.name))]),r("p",{staticClass:"productSummary text-input"},[e._v(e._s(e.productIntro.summary))]),r("ul",{staticClass:"spec-block"},e._l(e.specList.data,(function(t){return r("SpecItem",{key:t.iId,attrs:{spec:t,currentSpecId:e.pickedSpec.specId},on:{"change-spec":e.changeSpec}})})),1),r("div",{staticClass:"edit-block"},[e.isFirstLoading?e._e():[r("div",{staticClass:"edit-row"},[r("span",[e._v("溫層:")]),r("span",[e._v(e._s(e.productIntro.temperature))])]),r("div",{staticClass:"edit-row"},[r("span",[e._v("數量:")]),r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.pickedSpec.buyCount,expression:"pickedSpec.buyCount",modifiers:{number:!0}}],staticClass:"form-control",attrs:{disabled:!e.pickedSpecHasStock},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.$set(e.pickedSpec,"buyCount",t.target.multiple?r:r[0])}}},[r("option",{directives:[{name:"show",rawName:"v-show",value:!e.pickedSpecHasStock,expression:"!pickedSpecHasStock"}],attrs:{value:"0"}},[e._v("0")]),e._l(e.pickedSpec.stockTotal,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)]),r("div",{staticClass:"edit-row"},[r("span",[e._v("價格:")]),r("span",{staticClass:"price text-primary"},[e._v("$"+e._s(e._f("currency")(e.pickedSpec.price)))])])],r("div",{directives:[{name:"show",rawName:"v-show",value:e.pickedSpecHasStock,expression:"pickedSpecHasStock"}],staticClass:"edit-row btnBox no-mt"},[r("button",{staticClass:"cart",on:{click:function(t){return e.addCart(!1)}}},[e._v("加入購物車")]),r("button",{staticClass:"immediate",on:{click:function(t){return e.addCart(!0)}}},[e._v("直接購買")])])],2)])]),r("div",{staticClass:"product-middle",domProps:{innerHTML:e._s(e.productIntro.editContent)}}),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"cartModal",on:{confirm:e.confirmHandler}},[r("p",[e._v(e._s(e.addInfo.message))])])],1)},st=[],ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"product-gallery"},[r("div",{staticClass:"swiper main-swiper"},[r("div",{staticClass:"swiper-wrapper"},e._l(e.slideList,(function(e,t){return r("div",{key:t,staticClass:"swiper-slide"},[r("img",{attrs:{src:e}})])})),0)]),r("div",{staticClass:"swiper sub-swiper"},[r("div",{staticClass:"swiper-wrapper"},e._l(e.slideList,(function(e,t){return r("div",{key:t,staticClass:"swiper-slide"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e}})])])})),0)])])},ut=[],lt={props:{bannerList:{type:Array,default:function(){return[]}}},setup:function(e,t){t.root;var r=Object(o["g"])(e),a=r.bannerList,n=function(){var e=new te.a(".sub-swiper",{slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,spaceBetween:3});new te.a(".main-swiper",{thumbs:{swiper:e}})};return Object(o["d"])((function(){n()})),{slideList:a}}},dt=lt,mt=(r("40e4"),Object(R["a"])(dt,ct,ut,!1,null,"aa9db746",null)),pt=mt.exports,vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"spec-item text-input",class:{active:e.isActive,disabled:!e.hasStock},on:{click:e.clickSpec}},[e._v(" "+e._s(e.specName)+" ")])},ft=[],bt={props:{spec:{type:Object,required:!0},currentSpecId:{type:Number,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.spec,i=a.currentSpecId,s=Object(o["a"])((function(){return n.value.vSpecTitle})),c=Object(o["a"])((function(){return n.value.iId===i.value})),u=Object(o["a"])((function(){return n.value.stockInfo.iStockCount>0})),l=function(){u.value&&(c.value||r("change-spec",{specId:n.value.iId,stockTotal:n.value.stockInfo.iStockCount,price:n.value.price.iSpecPromoPrice}))};return{specName:s,isActive:c,hasStock:u,clickSpec:l}}},gt=bt,ht=(r("80ae"),Object(R["a"])(gt,vt,ft,!1,null,null,null)),_t=ht.exports,Ct={name:"product-detail",components:{ImageGallery:pt,SpecItem:_t},metaInfo:function(){return{title:"商品詳情"}},setup:function(e,t){var r=t.root,a=Object(o["f"])(""),n=Object(o["f"])(!1),i=Object(o["e"])({data:[]}),s=Object(o["f"])(!1),c=Object(o["e"])({category:"",num:"",name:"",summary:"",temperature:"",editContent:""}),u=Object(o["e"])({specId:0,stockTotal:0,buyCount:0,price:0}),l=Object(o["e"])({data:[]}),p=Object(o["f"])(!0),v=Object(o["e"])({status:0,message:"",isRedirect:""}),f=Object(o["f"])(null),b=Object(o["a"])((function(){return u.stockTotal>0})),g=function(e){c.category=e.category?e.category.vCategoryName:"",c.num=e.vProductNum,c.name=e.vProductName,c.summary=e.vProductSummary,c.temperature=e.temperature.vTemperatureTitle,c.editContent=e.vProductDetail},h=function(e){var t=e.specs,r=e.stocks;return 0===t.length||0===r.length?[]:t.reduce((function(e,t){var a=r.find((function(e){return e.iProductSpecId===t.iId}));return e.push(Object(m["a"])(Object(m["a"])({},t),{},{stockInfo:a})),e}),[])},_=function(){var e=l.data.find((function(e){return e.stockInfo.iStockCount>0})),t=void 0!==e;u.specId=t?e.iId:0,u.stockTotal=t?e.stockInfo.iStockCount:0,u.buyCount=t?1:0,u.price=t?e.price.iSpecPromoPrice:l.data[0].price.iSpecPromoPrice},C=function(e){for(var t in u.buyCount=1,e)u[t]=e[t]},y=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,io.product_detail(a.value);case 2:if(t=e.sent,0!==t.status){e.next=6;break}return console.log(t.message),e.abrupt("return");case 6:s.value=!1,i.data=t.aaData.info.vImages,g(t.aaData),l.data=h(t.aaData),_(),s.value=!0;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=parseInt(r.$route.query.specId),t=l.data.find((function(t){return t.iId===e}));void 0!==t&&(u.specId=t.iId,u.stockTotal=t.iSpecStock,u.buyCount=1,u.price=t.price.iSpecPromoPrice)},k=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,e.next=3,ro.addCart({vProductCode:a.value,iSpecId:u.specId,iCount:u.buyCount});case 3:i=e.sent,v.status=i.status,v.message=i.message,v.isRedirect=t,f.value.openModal(),1===v.status&&r.$store.dispatch("cart/getAllCart"),n.value=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=v.status,t=v.isRedirect;1===e&&t?r.$router.push("/"):f.value.closeModal()};return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,a.value=r.$route.params.productCode,e.next=4,y();case 4:w(),p.value=!1,n.value=!1;case 7:case"end":return e.stop()}}),e)})))),Object(o["h"])((function(){return r.$route}),function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,a.value=t.params.productCode,e.next=4,y();case 4:w(),n.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{isLoading:n,bannerList:i,showGallery:s,productIntro:c,pickedSpec:u,specList:l,changeSpec:C,pickedSpecHasStock:b,isFirstLoading:p,addInfo:v,addCart:k,cartModal:f,confirmHandler:x}}},yt=Ct,wt=(r("212e"),Object(R["a"])(yt,ot,st,!1,null,"6a2f2494",null)),kt=wt.exports,xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"product-category"},[r("div",{staticClass:"my-container"},[r("h3",{staticClass:"page-name left"},[e._v(e._s(e.categoryName))]),r("div",{staticClass:"category-wrap"},[r("div",{staticClass:"category-left"},[r("div",{staticClass:"category-block"},e._l(e.subCategory.data,(function(t){return r("CategoryItem",{key:t.iId,attrs:{info:t,categoryId:e.categoryId},on:{changeCategory:e.changeCategory}})})),1)]),r("div",{staticClass:"product-right"},[r("div",{staticClass:"category-panel"},[r("div",{staticClass:"count-block"},[e._v(" 共"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.totalProduct)))]),e._v("項商品 ")]),r("div",{staticClass:"search-block"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"關鍵字搜尋"},domProps:{value:e.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandler.apply(null,arguments)},input:function(t){t.target.composing||(e.keyword=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{staticClass:"btn-primary",on:{click:e.searchHandler}},[r("i",{staticClass:"fal fa-search"})])])]),r("div",{staticClass:"product-block"},[r("div",{staticClass:"product-row"},e._l(e.productList.data,(function(e){return r("MultipleSpecItem",{key:e.iId,attrs:{productInfo:e}})})),1)]),r("div",{staticClass:"btnBox center"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.hasNextPage,expression:"hasNextPage"}],staticClass:"btn-primary",staticStyle:{"--width":"120px"},on:{click:e.seeMore}},[e._v(e._s(e.buttonText))])])])])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Ot=[],jt=(r("a15b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"category-item",class:{active:e.isActive},on:{click:e.clickHandler}},[r("p",{staticClass:"name"},[e._v(e._s(e.info.vCategoryName))]),r("p",{staticClass:"summary text-input"},[e._v(e._s(e.info.vCategorySecondName))])])}),It=[],Nt={props:{info:{type:Object,required:!0},categoryId:{type:Number,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["a"])((function(){return e.info.iId===e.categoryId})),n=function(){a.value||r("changeCategory",e.info.iId)};return Object(m["a"])(Object(m["a"])({},Object(o["g"])(e.info)),{},{isActive:a,clickHandler:n})}},Pt=Nt,Tt=(r("4a0d"),Object(R["a"])(Pt,jt,It,!1,null,null,null)),$t=Tt.exports,Lt={name:"product-category",components:{CategoryItem:$t,MultipleSpecItem:pe},metaInfo:function(){return{title:"商品分類"}},setup:function(e,t){var r=t.root,a=Object(o["f"])(""),n=Object(o["f"])(""),i=Object(o["e"])({data:[]}),s=Object(o["e"])({data:[]}),c=Object(o["f"])(!1),u=Object(o["f"])(""),m=Object(o["e"])({current:0,next:1,total:0}),p=Object(o["e"])({data:[]}),v=J(),f=v.processProduct,b=Object(o["f"])(!1),g=Object(o["a"])((function(){var e=i.data.find((function(e){return e.iId===a.value}));return void 0!==e?e.vCategoryName:""})),h=Object(o["a"])((function(){return m.next<=m.total})),_=Object(o["a"])((function(){return p.data.length})),C=Object(o["a"])((function(){return b.value?"載入中...":"顯示更多"})),y=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([io.product_category({category_ids:""}),io.product_category({category_ids:a.value})]);case 2:t=e.sent,r=Object(l["a"])(t,2),o=r[0],c=r[1],i.data=o.aaData,s.data=c.aaData,n.value=s.data.length>0?s.data[0].iId:0;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){n.value=e,j()},k=function(e){var t=0===n.value?s.data.filter((function(e){return 0!==e.iId})).map((function(e){return e.iId})).join(","):n.value;return{category_ids:t,keyword:u.value,page:void 0!==e?e:m.next}},x=function(e){var t=e.current_page,r=e.total_pages;m.current=t,m.next=t+1,m.total=r},O=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=k(r),e.next=3,io.product(a);case 3:n=e.sent,i=f(n.aaData,20),p.data=t?p.data.concat(i):i,x(n);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,b.value=!1,e.next=4,O(!1,1);case 4:window.scrollTo(0,0),c.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b.value=!0,e.next=3,O(!0);case 3:b.value=!1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,a.value=parseInt(r.$route.query.categoryId),u.value=r.$route.query.keyword||"",e.next=5,y();case 5:return e.next=7,O(!1,1);case 7:c.value=!1;case 8:case"end":return e.stop()}}),e)})))),Object(o["h"])((function(){return r.$route}),function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,b.value=!1,a.value=parseInt(r.$route.query.categoryId),u.value=r.$route.query.keyword||"",e.next=6,y();case 6:return e.next=8,O(!1,1);case 8:c.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{isLoading:c,categoryName:g,categoryId:n,subCategory:s,changeCategory:w,keyword:u,hasNextPage:h,searchHandler:j,productList:p,totalProduct:_,seeMore:I,paginationInfo:m,buttonText:C}}},St=Lt,At=(r("aa88"),Object(R["a"])(St,xt,Ot,!1,null,"09376669",null)),qt=At.exports,Rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"activity-block"},[r("div",{staticClass:"activity-left"},[r("ActivityMenu")],1),r("div",{staticClass:"activity-right"},[r("div",{staticClass:"banner",style:{backgroundImage:"url("+e.bannerUrl+")"}}),r("router-view")],1),r("modal-message",{ref:"emptyModal",on:{confirm:e.emptyHandler}},[r("p",[e._v(e._s(e.emptyMsg))])])],1)},Mt=[],Ht=Q(),Et=function(e){return e.reduce((function(e,t){var r=t.iId,a=t.iType,n=t.code,i=Ht[n][a].routeName;return e.push(Object(m["a"])(Object(m["a"])({},t),{},{urlParams:{name:i,query:{activityId:r,activityType:n}}})),e}),[])},Dt={namespaced:!0,state:function(){return{activityList:[],activityInfo:{id:0,type:""}}},mutations:{setActivityList:function(e,t){e.activityList=t},setActivtyInfo:function(e,t){e.activityInfo=t}},getters:{targetActivity:function(e){var t=e.activityList.find((function(t){var r=t.iId===e.activityInfo.id,a=t.code===e.activityInfo.type;return r&&a}));return void 0!==t?t:null},bannerImage:function(e,t){return null===t.targetActivity?"":t.targetActivity.vImages[0]||""},criteria:function(e,t){var r=t.targetActivity;if(null===r)return{status:0};var a=r.code,n=r.iPromoType,i=r.iPromoAmount,o=r.iMinAmount,s=r.iGreenAmount,c=r.iRedAmount,u={full_amount:{iPromoType:n,iPromoAmount:i,iMinAmount:o},red_with_green:{iGreenAmount:s,iRedAmount:c}},l=u[a];return void 0===l?{status:0}:(l.status=1,l)}},actions:{getActivity:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Promise.all([oo.fullAmount(),oo.red_with_green()]);case 3:if(a=t.sent,n=Object(l["a"])(a,2),i=n[0],o=n[1],s=i.aaData.concat(o.aaData),0!==s.length){t.next=11;break}return r("setActivityList",[]),t.abrupt("return",{status:0,message:"目前沒有活動"});case 11:return c=Et(s),r("setActivityList",c),t.abrupt("return",{status:1,message:""});case 14:case"end":return t.stop()}}),t)})))()}}},Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"activity-menu"},e._l(e.activityList,(function(e,t){return r("MenuItem",{key:t,attrs:{menuInfo:e}})})),1)},Ut=[],Ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"menu-item",class:{active:e.isActive},attrs:{to:e.menuInfo.urlParams}},[r("p",{staticClass:"title"},[e._v(e._s(e.menuInfo.vTitle))]),r("p",{staticClass:"text-input"},[e._v(e._s(e.menuInfo.vSummary))])])},Gt=[],Vt={props:{menuInfo:{type:Object,required:!0}},setup:function(e,t){var r=t.root,a=r.$store,n=Object(o["a"])((function(){var t=a.state.activity.activityInfo,r=t.id,n=t.type,i=e.menuInfo.iId===r,o=e.menuInfo.code===n;return i&&o}));return Object(m["a"])(Object(m["a"])({},Object(o["g"])(e.menuInfo)),{},{isActive:n})}},Zt=Vt,zt=(r("687d"),Object(R["a"])(Zt,Ft,Gt,!1,null,"a8b03eb2",null)),Kt=zt.exports,Yt={components:{MenuItem:Kt},setup:function(e,t){var r=t.root,a=r.$store,n=Object(o["a"])((function(){return void 0===a.state.activity?[]:a.state.activity.activityList}));return{activityList:n}}},Jt=Yt,Qt=Object(R["a"])(Jt,Bt,Ut,!1,null,null,null),Wt=Qt.exports,Xt={components:{ActivityMenu:Wt},metaInfo:function(){return{title:"優惠活動"}},setup:function(e,t){var r=t.root,a=r.$store,n=r.$route,i=Object(o["f"])(null),s=Object(o["f"])(""),c=Object(o["f"])(""),u=Object(o["a"])((function(){return void 0===a.getters["activity/bannerImage"]?"":a.getters["activity/bannerImage"]})),l=function(){return r.$router.replace("/")},m=function(e){return a.hasModule(e)},p=function(e){a.commit("activity/setActivtyInfo",{id:parseInt(e.id),type:e.type})},v=function(e){var t=new Image;t.onload=function(){return c.value=e},t.src=e},f=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=m("activity"),!t){e.next=3;break}return e.abrupt("return");case 3:return a.registerModule("activity",Dt),p({id:n.query.activityId,type:n.query.activityType}),e.next=7,a.dispatch("activity/getActivity");case 7:if(r=e.sent,o=r.status,c=r.message,0!==o){e.next=14;break}return s.value=c,i.value.openModal(),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f(),Object(o["h"])((function(){return r.$route}),(function(e){p({id:e.query.activityId,type:e.query.activityType})})),Object(o["h"])(u,(function(e){v(e)})),Object(o["c"])((function(){var e=m("activity");e&&a.unregisterModule("activity")})),{emptyModal:i,emptyHandler:l,emptyMsg:s,bannerUrl:c}}},er=Xt,tr=(r("8136"),Object(R["a"])(er,Rt,Mt,!1,null,"bb36129e",null)),rr=tr.exports,ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quota-block"},[1===e.criteria.status?r("div",{staticClass:"criteriaBox"},[r("p",[e._v(" 活動條件 : 滿"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.criteria.iMinAmount)))]),e._v("件享折扣，已選購"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.pickedCount)))]),e._v("件 "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isAchieved,expression:"isAchieved"}],staticClass:"reached"},[e._v(e._s(e.discountText))])]),r("p",{staticClass:"subTotal"},[e._v(" 目前總計: "),r("span",{staticClass:"origin",class:{achieve:e.isAchieved}},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isAchieved,expression:"isAchieved"}],staticClass:"reached"},[e._v("$"+e._s(e._f("currency")(e.discountPrice)))])])]):e._e(),r("div",{staticClass:"picked-outer"},[r("table",{staticClass:"picked-table"},[e._m(0),r("tbody",e._l(e.pickedList.data,(function(t){return r("fullAmountRow",{key:t.iId,tag:"tr",attrs:{pickInfo:t},on:{changeSpecCount:e.changeSpecCount,remove:e.removePickedItem}})})),1)]),r("div",{staticClass:"picked-summary"},[r("p",[e._v("目前總計: "),r("span",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))])]),r("button",{staticClass:"btn-hover-activity",class:{disabled:!e.isAchieved},on:{click:function(t){return e.addCart(e.isAchieved,"full_amount")}}},[e._v("加入購物車")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasProduct,expression:"hasProduct"}],staticClass:"activity-product-outer"},e._l(e.productList.data,(function(t){return r("fullAmountItem",{key:t.iId,attrs:{productInfo:t},on:{picked:e.pickedHandler,intro:e.introHandler}})})),1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"cartModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確定"}},[r("p",[e._v(e._s(e.cartMessage))])]),r("modal-product",{ref:"productModal"})],1)},nr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("商品名稱")]),r("th",[e._v("數量")]),r("th",[e._v("單價")]),r("th",[e._v("總價")]),r("th",[e._v("刪除")])])])}],ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"full-amount-product"},[r("div",{staticClass:"imgBox",on:{click:e.introHandler}},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.productName))]),r("p",{staticClass:"spec text-input"},[e._v(e._s(e.specName))]),r("p",{staticClass:"price text-primary"},[e._v("$"+e._s(e._f("currency")(e.specPrice)))]),r("button",{staticClass:"btn-hover-activity",class:{disabled:e.isFullStock},on:{click:e.pickHandler}},[e._v("選購")])])])},or=[],sr={props:{productInfo:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.productInfo,i=Object(o["a"])((function(){return n.value.product.vImages[0]||""})),s=Object(o["a"])((function(){return n.value.product.info.vProductName})),c=Object(o["a"])((function(){return n.value.full_amount_meta_spec.vSpecTitle})),u=Object(o["a"])((function(){return n.value.full_amount_meta_spec.price.iSpecPromoPrice})),l=Object(o["a"])((function(){return n.value.full_amount_meta_spec.iSpecStock})),d=Object(o["a"])((function(){return n.value.buyCount>=l.value})),m=function(){d.value||r("picked",{iId:n.value.iId,productCode:n.value.product.vProductCode,productName:s.value,specName:c.value,specId:n.value.full_amount_meta_spec.iId,totalStock:l.value,price:u.value,imageUrl:i.value})},p=function(){r("intro",{productName:s.value,specName:c.value,productSummary:n.value.product.vProductSummary,price:u.value,imageUrl:i.value})};return{productImage:i,productName:s,specName:c,specPrice:u,pickHandler:m,isFullStock:d,introHandler:p}}},cr=sr,ur=(r("b538"),Object(R["a"])(cr,ir,or,!1,null,"6ab74055",null)),lr=ur.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("div",{staticClass:"profile"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.pickInfo.imageUrl,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.pickInfo.productName))]),r("p",{staticClass:"text-input"},[e._v(e._s(e.pickInfo.specName))])])])]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.buyCount,expression:"buyCount",modifiers:{number:!0}}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.buyCount=t.target.multiple?r:r[0]}}},e._l(e.pickInfo.totalStock,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("td",[r("p",[e._v("$"+e._s(e._f("currency")(e.pickInfo.price)))])]),r("td",[r("p",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.totalDollar)))])]),r("td",[r("i",{staticClass:"far fa-trash-alt text-input",on:{click:e.removeHandler}})])])},mr=[],pr={props:{pickInfo:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.pickInfo,i=Object(o["a"])({get:function(){return n.value.buyCount},set:function(e){r("changeSpecCount",{iId:n.value.iId,count:e})}}),s=Object(o["a"])((function(){return i.value*n.value.price})),c=function(){return r("remove",n.value.iId)};return Object(m["a"])(Object(m["a"])({},Object(o["g"])(e.pickInfo)),{},{buyCount:i,totalDollar:s,removeHandler:c})}},vr=pr,fr=Object(R["a"])(vr,dr,mr,!1,null,null,null),br=fr.exports,gr={name:"quanity",components:{fullAmountItem:lr,fullAmountRow:br},metaInfo:function(){return{title:"滿件活動"}},setup:function(e,t){var r=t.root,a=W(r,"full_amount_meta"),n=a.isLoading,i=a.productList,s=a.pickedList,c=a.cartMessage,u=a.cartModal,l=a.productModal,d=a.activityId,m=a.criteria,p=a.hasProduct,v=a.pickedCount,f=a.pickedTotalDollar,b=a.discountText,g=a.getActivityProduct,h=a.pickedHandler,_=a.changeSpecCount,C=a.removePickedItem,y=a.introHandler,w=a.addCart,k=Object(o["a"])((function(){return 0!==m.value.status&&v.value>=m.value.iMinAmount})),x=Object(o["a"])((function(){if(!k.value)return 0;var e=m.value,t=e.iPromoType,r=e.iPromoAmount;if(1===t)return r;if(2===t)return f.value-r;if(3===t){var a=r/100,n=Math.ceil(f.value*a);return f.value-n}return 0}));return{isLoading:n,productList:i,pickedList:s,cartMessage:c,cartModal:u,productModal:l,activityId:d,criteria:m,hasProduct:p,pickedCount:v,pickedTotalDollar:f,discountText:b,getActivityProduct:g,pickedHandler:h,changeSpecCount:_,removePickedItem:C,introHandler:y,addCart:w,isAchieved:k,discountPrice:x}}},hr=gr,_r=Object(R["a"])(hr,ar,nr,!1,null,null,null),Cr=_r.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quota-block"},[1===e.criteria.status?r("div",{staticClass:"criteriaBox"},[r("p",[e._v(" 活動條件 : 滿"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.criteria.iMinAmount)))]),e._v("元享折扣，已選購"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.pickedCount)))]),e._v("件 "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isAchieved,expression:"isAchieved"}],staticClass:"reached"},[e._v(e._s(e.discountText))])]),r("p",{staticClass:"subTotal"},[e._v(" 目前總計: "),r("span",{staticClass:"origin",class:{achieve:e.isAchieved}},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isAchieved,expression:"isAchieved"}],staticClass:"reached"},[e._v("$"+e._s(e._f("currency")(e.discountPrice)))])])]):e._e(),r("div",{staticClass:"picked-outer"},[r("table",{staticClass:"picked-table"},[e._m(0),r("tbody",e._l(e.pickedList.data,(function(t){return r("fullAmountRow",{key:t.iId,tag:"tr",attrs:{pickInfo:t},on:{changeSpecCount:e.changeSpecCount,remove:e.removePickedItem}})})),1)]),r("div",{staticClass:"picked-summary"},[r("p",[e._v("目前總計: "),r("span",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))])]),r("button",{staticClass:"btn-hover-activity",class:{disabled:!e.isAchieved},on:{click:function(t){return e.addCart(e.isAchieved,"full_amount")}}},[e._v("加入購物車")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasProduct,expression:"hasProduct"}],staticClass:"activity-product-outer"},e._l(e.productList.data,(function(t){return r("fullAmountItem",{key:t.iId,attrs:{productInfo:t},on:{picked:e.pickedHandler,intro:e.introHandler}})})),1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"cartModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確定"}},[r("p",[e._v(e._s(e.cartMessage))])]),r("modal-product",{ref:"productModal"})],1)},wr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("商品名稱")]),r("th",[e._v("數量")]),r("th",[e._v("單價")]),r("th",[e._v("總價")]),r("th",[e._v("刪除")])])])}],kr={name:"quota",components:{fullAmountItem:lr,fullAmountRow:br},metaInfo:function(){return{title:"滿額活動"}},setup:function(e,t){var r=t.root,a=W(r,"full_amount_meta"),n=a.isLoading,i=a.productList,s=a.pickedList,c=a.cartMessage,u=a.cartModal,l=a.productModal,d=a.activityId,m=a.criteria,p=a.hasProduct,v=a.pickedCount,f=a.pickedTotalDollar,b=a.discountText,g=a.getActivityProduct,h=a.pickedHandler,_=a.changeSpecCount,C=a.removePickedItem,y=a.introHandler,w=a.addCart,k=Object(o["a"])((function(){return 0!==m.value.status&&f.value>=m.value.iMinAmount})),x=Object(o["a"])((function(){if(!k.value)return 0;var e=m.value,t=e.iPromoType,r=e.iPromoAmount;if(1===t)return r;if(2===t)return f.value-r;if(3===t){var a=r/100,n=Math.ceil(f.value*a);return f.value-n}return 0}));return{isLoading:n,productList:i,pickedList:s,cartMessage:c,cartModal:u,productModal:l,activityId:d,criteria:m,hasProduct:p,pickedCount:v,pickedTotalDollar:f,discountText:b,getActivityProduct:g,pickedHandler:h,changeSpecCount:_,removePickedItem:C,introHandler:y,addCart:w,isAchieved:k,discountPrice:x}}},xr=kr,Or=Object(R["a"])(xr,yr,wr,!1,null,null,null),jr=Or.exports,Ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quota-block"},[1===e.criteria.status?r("div",{staticClass:"criteriaBox"},[r("p",[e._v(" 活動條件 : 紅標商品"),r("span",{staticClass:"mark red"},[e._v(e._s(e._f("currency")(e.criteria.iRedAmount)))]),e._v("搭配綠標商品"),r("span",{staticClass:"mark green"},[e._v(e._s(e._f("currency")(e.criteria.iGreenAmount)))]),e._v(" , 紅標已選購"),r("span",{staticClass:"mark red"},[e._v(e._s(e._f("currency")(e.redItemCount)))]),e._v("件 + 綠標已選購"),r("span",{staticClass:"mark green"},[e._v(e._s(e._f("currency")(e.greenItemCount)))]),e._v("件 ")]),r("p",{staticClass:"subTotal"},[e._v(" 目前總計: "),r("span",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))])])]):e._e(),r("div",{staticClass:"picked-outer"},[r("table",{staticClass:"picked-table"},[e._m(0),r("tbody",e._l(e.pickedList.data,(function(t){return r("RedGreenRow",{key:t.iId,tag:"tr",attrs:{pickInfo:t,mappingLabel:e.mappingLabel},on:{changeSpecCount:e.changeSpecCount,remove:e.removePickedItem}})})),1)]),r("div",{staticClass:"picked-summary"},[r("p",[e._v("目前總計: "),r("span",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.pickedTotalDollar)))])]),r("button",{staticClass:"btn-hover-activity",class:{disabled:!e.isAchieved},on:{click:function(t){return e.addCart(e.isAchieved,"red_with_green")}}},[e._v("加入購物車")])])]),r("div",{staticClass:"mark-block"},e._l(e.markList,(function(t,a){return r("MarkItem",{key:a,attrs:{markInfo:t,markKey:a,markType:e.markType},on:{"update:markType":function(t){e.markType=t},"update:mark-type":function(t){e.markType=t}}})})),1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasProduct,expression:"hasProduct"}],staticClass:"activity-product-outer"},e._l(e.filterProductList,(function(t){return r("redGreenItem",{key:t.iId,attrs:{productInfo:t,mappingLabel:e.mappingLabel},on:{picked:e.pickedHandler,intro:e.introHandler}})})),1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"cartModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確定"}},[r("p",[e._v(e._s(e.cartMessage))])]),r("modal-product",{ref:"productModal"})],1)},Nr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("商品名稱")]),r("th",[e._v("數量")]),r("th",[e._v("單價")]),r("th",[e._v("總價")]),r("th",[e._v("刪除")])])])}],Pr=r("ade3"),Tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mark-item",class:{active:e.isActive},style:e.styleInfo,on:{click:e.clickHandler}},[e._v(e._s(e.markTitle))])},$r=[],Lr={props:{markInfo:{type:Object,required:!0},markKey:{type:String,required:!0},markType:{type:String,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.markInfo,i=a.markKey,s=a.markType,c=Object(o["a"])((function(){return n.value.title})),u=Object(o["a"])((function(){return{"--mark-font-color":n.value.fontColor,"--mark-border-color":n.value.borderColor,"--mark-hover-font-color":n.value.hoverFontColor,"--mark-hover-background-color":n.value.hoverBackgroundColor}})),l=Object(o["a"])((function(){return i.value===s.value})),d=function(){l.value||r("update:markType",i.value)};return{markTitle:c,styleInfo:u,isActive:l,clickHandler:d}}},Sr=Lr,Ar=(r("6d03"),Object(R["a"])(Sr,Tr,$r,!1,null,"2750199e",null)),qr=Ar.exports,Rr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"red-green-product"},[r("div",{staticClass:"imgBox",on:{click:e.introHandler}},[r("img",{attrs:{src:e.productImage,alt:""}}),r("span",{staticClass:"label",style:{backgroundColor:e.labelInfo.backgroundColor}},[e._v(e._s(e.labelInfo.title))])]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.productName))]),r("p",{staticClass:"spec text-input"},[e._v(e._s(e.specName))]),r("p",{staticClass:"price text-primary"},[e._v("$"+e._s(e._f("currency")(e.specPrice)))]),r("button",{staticClass:"btn-hover-activity",class:{disabled:e.isFullStock},on:{click:e.pickHandler}},[e._v("選購")])])])},Mr=[],Hr={props:{productInfo:{type:Object,required:!0},mappingLabel:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.productInfo,i=a.mappingLabel,s=Object(o["a"])((function(){return n.value.product.vImages[0]||""})),c=Object(o["a"])((function(){return n.value.product.info.vProductName})),u=Object(o["a"])((function(){return n.value.full_amount_meta_spec.vSpecTitle})),l=Object(o["a"])((function(){return n.value.full_amount_meta_spec.price.iSpecPromoPrice})),d=Object(o["a"])((function(){return n.value.full_amount_meta_spec.iSpecStock})),m=Object(o["a"])((function(){return n.value.buyCount>=d.value})),p=Object(o["a"])((function(){return{title:i.value[n.value.iPromoType].title,backgroundColor:i.value[n.value.iPromoType].backgroundColor}})),v=function(){m.value||r("picked",{iId:n.value.iId,productCode:n.value.product.vProductCode,productName:c.value,specName:u.value,specId:n.value.full_amount_meta_spec.iId,totalStock:d.value,price:l.value,imageUrl:s.value,iPromoType:n.value.iPromoType})},f=function(){r("intro",{productName:c.value,specName:u.value,productSummary:n.value.product.vProductSummary,price:l.value,imageUrl:s.value})};return{productImage:s,productName:c,specName:u,specPrice:l,pickHandler:v,isFullStock:m,labelInfo:p,introHandler:f}}},Er=Hr,Dr=(r("e6b1"),Object(R["a"])(Er,Rr,Mr,!1,null,"3ab0cebf",null)),Br=Dr.exports,Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("div",{staticClass:"profile"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.pickInfo.imageUrl,alt:""}}),r("span",{staticClass:"label",style:{backgroundColor:e.labelInfo.backgroundColor}},[e._v(e._s(e.labelInfo.title))])]),r("div",{staticClass:"descBox"},[r("p",{staticClass:"name"},[e._v(e._s(e.pickInfo.productName))]),r("p",{staticClass:"text-input"},[e._v(e._s(e.pickInfo.specName))])])])]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.buyCount,expression:"buyCount",modifiers:{number:!0}}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.buyCount=t.target.multiple?r:r[0]}}},e._l(e.pickInfo.totalStock,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("td",[r("p",[e._v("$"+e._s(e._f("currency")(e.pickInfo.price)))])]),r("td",[r("p",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.totalDollar)))])]),r("td",[r("i",{staticClass:"far fa-trash-alt text-input",on:{click:e.removeHandler}})])])},Fr=[],Gr={props:{pickInfo:{type:Object,required:!0},mappingLabel:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.pickInfo,i=a.mappingLabel,s=Object(o["a"])((function(){return{title:i.value[n.value.iPromoType].title,backgroundColor:i.value[n.value.iPromoType].backgroundColor}})),c=Object(o["a"])({get:function(){return n.value.buyCount},set:function(e){r("changeSpecCount",{iId:n.value.iId,count:e})}}),u=Object(o["a"])((function(){return c.value*n.value.price})),l=function(){return r("remove",n.value.iId)};return Object(m["a"])(Object(m["a"])({},Object(o["g"])(e.pickInfo)),{},{buyCount:c,totalDollar:u,removeHandler:l,labelInfo:s})}},Vr=Gr,Zr=Object(R["a"])(Vr,Ur,Fr,!1,null,null,null),zr=Zr.exports,Kr={name:"redwithgreen",components:{MarkItem:qr,RedGreenItem:Br,RedGreenRow:zr},metaInfo:function(){return{title:"紅配綠活動"}},setup:function(e,t){var r,a=t.root,n=W(a,"red_with_green_meta"),i=n.isLoading,s=n.productList,c=n.pickedList,u=n.cartMessage,l=n.cartModal,d=n.productModal,m=n.activityId,p=n.criteria,v=n.hasProduct,f=n.pickedTotalDollar,b=n.pickedHandler,g=n.changeSpecCount,h=n.removePickedItem,_=n.introHandler,C=n.addCart,y=Object(o["f"])("0"),w=Object(o["e"])({0:{title:"全部",fontColor:"#BC9F75",borderColor:"#BC9F75",backgroundColor:"#fff",hoverFontColor:"#fff",hoverBackgroundColor:"#BC9F75"},1:{title:"紅標",fontColor:"#FF0000",borderColor:"#FF0000",backgroundColor:"#fff",hoverFontColor:"#fff",hoverBackgroundColor:"#FF0000"},2:{title:"綠標",fontColor:"#04a978",borderColor:"#04a978",backgroundColor:"#fff",hoverFontColor:"#fff",hoverBackgroundColor:"#04a978"}}),k=Object(o["e"])({1:{title:"紅",backgroundColor:"#FF0000"},2:{title:"綠",backgroundColor:"#04a978"}}),x=Object(o["a"])((function(){return"0"===y.value?s.data:s.data.filter((function(e){return e.iPromoType===parseInt(y.value)}))})),O=Object(o["a"])((function(){return c.data.reduce((function(e,t){return 1!==t.iPromoType||(e+=t.buyCount),e}),0)})),j=Object(o["a"])((function(){return c.data.reduce((function(e,t){return 2!==t.iPromoType||(e+=t.buyCount),e}),0)})),I=Object(o["a"])((function(){var e=p.value,t=e.iRedAmount,r=e.iGreenAmount;return O.value===t&&j.value===r}));return r={isLoading:i,pickedList:c,cartMessage:u,activityId:m,criteria:p,cartModal:l,productModal:d,markType:y,markList:w,filterProductList:x,pickedHandler:b,changeSpecCount:g,removePickedItem:h,pickedTotalDollar:f,hasProduct:v,redItemCount:O,greenItemCount:j,isAchieved:I,introHandler:_},Object(Pr["a"])(r,"introHandler",_),Object(Pr["a"])(r,"addCart",C),Object(Pr["a"])(r,"mappingLabel",k),r}},Yr=Kr,Jr=(r("9be2"),Object(R["a"])(Yr,Ir,Nr,!1,null,null,null)),Qr=Jr.exports,Wr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"term-block"},[r("h3",{staticClass:"term-title text-primary"},[e._v(e._s(e.termTitle))]),r("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.termContent,expression:"termContent !== ''"}],staticClass:"outline-block",domProps:{innerHTML:e._s(e.termContent)}})])},Xr=[],ea={metaInfo:function(){return{title:this.termTitle}},setup:function(e,t){var r=t.root,a=Object(o["f"])(""),n=Object(o["a"])((function(){var e=r.$store.getters.termInfo;return void 0!==e[a.value]?e[a.value].title:""})),i=Object(o["a"])((function(){return r.$store.getters.getTermContent(a.value)}));return a.value=r.$route.query.termId,Object(o["h"])((function(){return r.$route}),(function(e){a.value=e.query.termId})),{termTitle:n,termContent:i}}},ta=ea,ra=(r("b8a7"),Object(R["a"])(ta,Wr,Xr,!1,null,"386389ce",null)),aa=ra.exports,na=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"brnand-block"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasContent,expression:"hasContent"}],staticClass:"outline-block",domProps:{innerHTML:e._s(e.brandContent)}}),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},ia=[],oa={metaInfo:function(){return{title:"品牌介紹"}},setup:function(e){var t=Object(o["f"])(""),r=Object(o["f"])(!1),a=Object(o["a"])((function(){return""!==t.value}));return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,no.brand();case 3:a=e.sent,t.value=a.aaData.vDetail,r.value=!1;case 6:case"end":return e.stop()}}),e)})))),{brandContent:t,isLoading:r,hasContent:a}}},sa=oa,ca=Object(R["a"])(sa,na,ia,!1,null,null,null),ua=ca.exports,la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-block"},[a("div",{staticClass:"imgBox"},[a("img",{attrs:{src:r("4e8b"),alt:""}})]),a("div",{staticClass:"form-outer"},[a("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-title text-right"},[a("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("聯絡目的 ")]),a("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("select",{directives:[{name:"model",rawName:"v-model",value:e.contactInfo.type,expression:"contactInfo.type"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.contactInfo,"type",t.target.multiple?r:r[0])}}},[a("option",{attrs:{value:""}},[e._v("請選擇")]),a("option",{attrs:{value:"1"}},[e._v("商品諮詢")]),a("option",{attrs:{value:"2"}},[e._v("訂單問題")]),a("option",{attrs:{value:"3"}},[e._v("其他")])]),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-title text-right"},[a("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("姓名 ")]),a("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contactInfo.name,expression:"contactInfo.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入姓名"},domProps:{value:e.contactInfo.name},on:{input:function(t){t.target.composing||e.$set(e.contactInfo,"name",t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-title text-right"},[a("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("電子信箱 ")]),a("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contactInfo.email,expression:"contactInfo.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入電子信箱"},domProps:{value:e.contactInfo.email},on:{input:function(t){t.target.composing||e.$set(e.contactInfo,"email",t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-title text-right"},[a("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("主旨 ")]),a("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contactInfo.subject,expression:"contactInfo.subject"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入主旨"},domProps:{value:e.contactInfo.subject},on:{input:function(t){t.target.composing||e.$set(e.contactInfo,"subject",t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-title text-right"},[a("span",{staticClass:"require-mark text-primary"},[e._v("*")]),e._v("內容 ")]),a("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.failed;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contactInfo.content,expression:"contactInfo.content"}],staticClass:"form-control",attrs:{placeholder:"請輸入內容"},domProps:{value:e.contactInfo.content},on:{input:function(t){t.target.composing||e.$set(e.contactInfo,"content",t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(r[0]))])]}}])})],1)]),a("div",{staticClass:"btnBox center"},[a("button",{staticClass:"btn-primary",on:{click:e.submitHandler}},[e._v("送出")])])],1),a("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),a("modal-message",{ref:"contactModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確定"}},[a("p",[e._v(e._s(e.contactResult.message))])])],1)},da=[],ma={metaInfo:function(){return{title:"連絡我們"}},setup:function(e){var t=Object(o["f"])(!1),r=Object(o["e"])({type:"",name:"",email:"",subject:"",content:""}),a=Object(o["e"])({message:""}),n=Object(o["f"])(null),i=Object(o["f"])(null),s=function(){for(var e in r)r[e]="";n.value.reset()},c=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.value.validate();case 2:if(o=e.sent,o){e.next=5;break}return e.abrupt("return");case 5:return t.value=!0,e.next=8,so.contact({iType:r.type,vName:r.name,vEmail:r.email,vTitle:r.subject,vContent:r.content});case 8:c=e.sent,a.message=c.message,1===c.status&&s(),i.value.openModal(),t.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isLoading:t,contactInfo:r,contactResult:a,form:n,contactModal:i,submitHandler:c}}},pa=ma,va=(r("8793"),Object(R["a"])(pa,la,da,!1,null,"228970c4",null)),fa=va.exports,ba=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"faq-block"},[r("div",{staticClass:"faq-outer"},[e.hasFaq?r("FaqAccordion",{attrs:{faqList:e.faqInfo.data}}):e._e()],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},ga=[],ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"faq-accrodion"},e._l(e.faqList,(function(t){return r("FaqItem",{key:t.iId,ref:"faqItems",refInFor:!0,attrs:{faqInfo:t},on:{toggle:e.toggleHandler}})})),1)},_a=[],Ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"faq-item"},[r("div",{staticClass:"faq-header",on:{click:e.toggleHandler}},[r("div",{staticClass:"left"},[r("i",{staticClass:"fas fa-question-circle text-primary"}),r("span",[e._v(e._s(e.faqInfo.vTitle))])]),r("div",{staticClass:"right",class:{rotate:e.isOpen}},[r("i",{staticClass:"fal fa-chevron-down text-input"})])]),r("slide-up-down",{staticClass:"faq-body",attrs:{active:e.isOpen,duration:250},on:{"open-start":function(t){return e.setCanClick(!1)},"open-end":function(t){return e.setCanClick(!0)},"close-start":function(t){return e.setCanClick(!1)},"close-end":function(t){return e.setCanClick(!0)}}},[r("div",{staticClass:"inner text-input",domProps:{innerHTML:e._s(e.faqInfo.vContent)}})])],1)},ya=[],wa={props:{faqInfo:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["f"])(!1),n=Object(o["f"])(!0),i=Object(o["f"])(!0),s=function(){n.value&&(a.value=!a.value,a.value&&r("toggle",e.faqInfo.iId))},c=function(e){i.value?i.value=!1:n.value=e},u=function(){return a.value=!1};return Object(m["a"])(Object(m["a"])({},Object(o["g"])(e.faqInfo)),{},{isOpen:a,toggleHandler:s,setCanClick:c,slideUp:u})}},ka=wa,xa=Object(R["a"])(ka,Ca,ya,!1,null,null,null),Oa=xa.exports,ja={components:{FaqItem:Oa},props:{faqList:{type:Array,required:!0}},setup:function(){var e=Object(o["f"])(null),t=function(t){e.value.forEach((function(e){e.$props.faqInfo.iId!==t&&e.slideUp()}))};return{faqItems:e,toggleHandler:t}}},Ia=ja,Na=(r("63d4"),Object(R["a"])(Ia,ha,_a,!1,null,null,null)),Pa=Na.exports,Ta={components:{FaqAccordion:Pa},metaInfo:function(){return{title:"常見問題"}},setup:function(e,t){t.root;var r=Object(o["f"])(!1),a=Object(o["e"])({data:[]}),n=Object(o["a"])((function(){return a.data.length>0}));return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,co.get();case 2:t=e.sent,a.data=t.aaData;case 4:case"end":return e.stop()}}),e)})))),{isLoading:r,faqInfo:a,hasFaq:n}}},$a=Ta,La=(r("8ef9"),Object(R["a"])($a,ba,ga,!1,null,"13c304ee",null)),Sa=La.exports,Aa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"member-block"},[r("div",{staticClass:"content-block"},[r("div",{staticClass:"left"},[r("MemberMenu",{on:{logout:e.doubleCheck}})],1),r("div",{staticClass:"right"},[r("router-view",{on:{loading:e.setLoading}})],1)]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("modal-message",{ref:"logoutModal",attrs:{showCancel:!0},on:{confirm:e.logoutHandler}},[r("p",[e._v("是否要登出?")])])],1)},qa=[],Ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"member-menu"},[e._l(e.memberList,(function(t,a){return r("router-link",{key:a,class:{active:t.routeName===e.currentRouteName},attrs:{to:t.path}},[r("p",{staticClass:"title"},[e._v(e._s(t.title))]),r("p",{staticClass:"text-input"},[e._v(e._s(t.summary))])])})),r("a",{attrs:{href:"javascript:;"},on:{click:e.logout}},[r("p",{staticClass:"title"},[e._v("登出")]),r("p",{staticClass:"text-input"},[e._v("Logout")])])],2)},Ma=[],Ha={setup:function(e,t){var r=t.root,a=t.emit,n=Object(o["e"])([{title:"會員資料",summary:"Member Profile",routeName:"profile",path:"/member/profile"},{title:"訂單管理",summary:"Order Management",routeName:"order",path:"/member/order"}]),i=Object(o["a"])((function(){return r.$route.name})),s=function(){return a("logout")};return{memberList:n,currentRouteName:i,logout:s}}},Ea=Ha,Da=(r("0619"),Object(R["a"])(Ea,Ra,Ma,!1,null,null,null)),Ba=Da.exports,Ua={components:{MemberMenu:Ba},setup:function(e,t){var r=t.root,a=Object(o["f"])(null),n=Object(o["f"])(!1),i=function(){return a.value.openModal()},s=function(e){return n.value=e},c=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value.closeModal(),n.value=!0,e.next=4,r.$store.dispatch("auth/logout");case 4:t=e.sent,1===t.status&&r.$router.replace("/"),n.value=!1;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{logoutModal:a,isLoading:n,logoutHandler:c,doubleCheck:i,setLoading:s}}},Fa=Ua,Ga=(r("559b"),Object(R["a"])(Fa,Aa,qa,!1,null,"695251d9",null)),Va=Ga.exports,Za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"member-profile"},[r("div",{staticClass:"level-point-panel"},[r("div",{staticClass:"levelBox"},[e._v("目前階級:"),r("span",{staticClass:"text-primary"},[e._v(e._s(e.pointLevelInfo.levelTitle))])]),r("div",{staticClass:"pointBox"},[e._v("剩餘點數:"),r("span",{staticClass:"text-primary"},[e._v(e._s(e.pointLevelInfo.pointAmount))])])]),r("div",{staticClass:"profile-block"},[r("validation-observer",{ref:"form",staticClass:"form-layout",attrs:{tag:"div"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("帳號")]),r("div",{staticClass:"form-content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profileInfo.mobile,expression:"profileInfo.mobile"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:e.profileInfo.mobile},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"mobile",t.target.value)}}})])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("姓名")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.profileInfo.name,expression:"profileInfo.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入您的中文姓名"},domProps:{value:e.profileInfo.name},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("性別")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.profileInfo.gender,expression:"profileInfo.gender"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.profileInfo,"gender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.genderList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("電子信箱")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.profileInfo.email,expression:"profileInfo.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.profileInfo.email},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("出生日期")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profileInfo.birthday,expression:"profileInfo.birthday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.profileInfo.birthday},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"birthday",t.target.value)}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("忘記密碼安全問題")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.profileInfo.security_question,expression:"profileInfo.security_question"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.profileInfo,"security_question",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.questionList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("安全問題答案")]),r("validation-provider",{staticClass:"form-content",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.failed;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.profileInfo.security_answer,expression:"profileInfo.security_answer",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.profileInfo.security_answer},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"error-text"},[e._v(e._s(a[0]))])]}}])})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("縣市")]),r("div",{staticClass:"form-content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.city,expression:"addressInfo.city"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.addressInfo,"city",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.cityList,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("地區")]),r("div",{staticClass:"form-content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.district,expression:"addressInfo.district"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.addressInfo,"district",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇")]),e._l(e.districtList,(function(t){return r("option",{key:t.name,domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])}))],2)])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-title text-right"},[e._v("地址")]),r("div",{staticClass:"form-content"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.profileInfo.address,expression:"profileInfo.address",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"地址"},domProps:{value:e.profileInfo.address},on:{input:function(t){t.target.composing||e.$set(e.profileInfo,"address",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])]),r("div",{staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",staticStyle:{"--width":"150px"},on:{click:e.submitHandler}},[e._v("確認修改")])]),r("modal-message",{ref:"updateModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確定"}},[r("p",[e._v(e._s(e.updateInfo.message))])])],1)])},za=[],Ka={name:"profile",metaInfo:function(){return{title:"會員資料"}},setup:function(e,t){var r=t.root,a=t.emit,n=K(),i=n.genderList,s=n.questionList,c=Y(),u=c.addressInfo,l=c.cityList,p=c.districtList,v=Object(o["e"])({levelTitle:"",pointAmount:""}),f=Object(o["e"])({mobile:"",name:"",gender:"",email:"",birthday:"",address:"",security_question:"",security_answer:""}),b=Object(o["f"])(null),g=Object(o["f"])(null),_=Object(o["e"])({message:""}),C=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.level_summary,a=t.point_summary,n=r.current_level.level_id,e.next=4,uo.level({level_id:[n]});case 4:i=e.sent,v.levelTitle=i.aaData.level_information[0].title,v.pointAmount=a.current_point[0].amount;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in f)"birthday"===a&&(t[a]=t[a].replace(/\//g,"-")),f[a]=t[a];return u.city=t.city,e.next=4,r.$nextTick();case 4:u.district=t.district;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return a("loading",!0),r=h.a.cloneDeep(f),delete r.mobile,delete r.birthday,e.next=11,uo.updateProfile({member_profile:Object(m["a"])(Object(m["a"])({},r),{},{city:u.city,district:u.district})});case 11:n=e.sent,_.message=n.message,g.value.openModal(),a("loading",!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a("loading",!0),e.next=3,uo.summary();case 3:return t=e.sent,e.next=6,uo.getProfile();case 6:return r=e.sent,e.next=9,C(t.aaData);case 9:y(r.aaData.member_profile),a("loading",!1);case 11:case"end":return e.stop()}}),e)})))),{genderList:i,questionList:s,addressInfo:u,cityList:l,districtList:p,pointLevelInfo:v,profileInfo:f,form:b,updateModal:g,updateInfo:_,submitHandler:w}}},Ya=Ka,Ja=(r("52d5"),Object(R["a"])(Ya,Za,za,!1,null,"6c44c4b9",null)),Qa=Ja.exports,Wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-history-block"},[r("div",{staticClass:"criteria-panel"},[r("input",{ref:"dateInput",staticClass:"form-control",attrs:{type:"text"}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderNumber,expression:"orderNumber"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入定單編號"},domProps:{value:e.orderNumber},on:{input:function(t){t.target.composing||(e.orderNumber=t.target.value)}}}),r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderStatus.id,expression:"orderStatus.id"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderStatus,"id",t.target.multiple?r:r[0])}}},e._l(e.orderStatus.list,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t))])})),0),r("button",{staticClass:"btn-primary",on:{click:e.submitHandler}},[e._v("送出")])]),r("HistoryAccordion",{directives:[{name:"show",rawName:"v-show",value:e.hasHistory,expression:"hasHistory"}],ref:"accordionBlock",attrs:{accordionList:e.accordionInfo.list}}),r("EmptyBlock",{directives:[{name:"show",rawName:"v-show",value:!e.hasHistory,expression:"!hasHistory"}],attrs:{text:"查無訂單紀錄"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasNextPage,expression:"hasNextPage"}],staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",staticStyle:{"--width":"120px"},on:{click:e.seeMore}},[e._v(e._s(e.seeMoreButtonText))])])],1)},Xa=[],en=r("5a0c"),tn=r.n(en),rn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history-accordion-block"},e._l(e.accordionList,(function(t){return r("AccordionItem",{key:t.iId,ref:"accordionItems",refInFor:!0,attrs:{accordion:t,invoiceList:e.invoiceInfo.list}})})),1)},an=[],nn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"accordion-item"},[r("div",{staticClass:"accordion-header"},[r("div",[e._v("訂單編號 "+e._s(e.detail.vOrderNum))]),r("div",{staticClass:"toggle-block",on:{click:e.triggerHandler}},[e._v(" 詳細內容 "),r("i",{staticClass:"far fa-chevron-down",class:{rotate:e.isOpen}})])]),r("div",{staticClass:"accordion-body"},[r("div",{staticClass:"top-block"},[r("div",{staticClass:"title"},[e._v("購買時間")]),r("div",{staticClass:"content"},[e._v(e._s(e.detail.iCreateTime))]),r("div",{staticClass:"title"},[e._v("貨運編號")]),r("div",{staticClass:"content"},[e._v(e._s())]),r("div",{staticClass:"title"},[e._v("發票訊息")]),r("div",{staticClass:"content"},[e._v(e._s(e.invoiceTitle)+"-"+e._s(e.invoiceValue))]),r("div",{staticClass:"title"},[e._v("訂單狀態")]),r("div",{staticClass:"content"},[e._v(e._s(e.detail.vStatusMessage))]),r("div",{staticClass:"title"},[e._v("付款方式")]),r("div",{staticClass:"content"},[e._v(e._s(e.detail.info.vPayType))]),r("div",{staticClass:"title"},[e._v("付款狀態")]),r("div",{staticClass:"content"},[e._v(e._s(e.detail.vPayStatusMessage))])]),r("div",{staticClass:"bottom-block",class:{show:e.isOpen}},[r("div",{staticClass:"picked-cart-outer history"},[r("table",{staticClass:"picked-cart-table history"},[e._m(0),r("tbody",e._l(e.cartList.data,(function(e){return r(e.componentName,{key:e.iId,tag:"tr",attrs:{info:e}})})),1)])]),r("div",{staticClass:"orderInfo"},[r("p",[e._v("詳細訂購資訊：")]),r("div",{staticClass:"content"},[r("p",{staticClass:"text-input"},[e._v("收件人資訊："+e._s(e.detail.addressee_2.vName))]),r("p",{staticClass:"text-input"},[e._v("手機號碼："+e._s(e.detail.addressee_2.vContact))]),r("p",{staticClass:"text-input"},[e._v("運送方式："+e._s(e.detail.shipping.vShipmentType))]),r("p",{staticClass:"text-input"},[e._v("超商地址："+e._s(e.storeName))]),r("p",{staticClass:"text-input"},[e._v("收件人地址：242新北市新莊區中正路")]),r("p",{staticClass:"text-input"},[e._v("商品金額：$"+e._s(e._f("currency")(e.detail.iOrderTotal)))]),r("p",{staticClass:"text-input"},[e._v("運費：$"+e._s(e._f("currency")(e.detail.iShipmentFee)))]),r("p",{staticClass:"text-input"},[e._v("點數折抵："+e._s(e.detail.iCoinTotal)+"點")]),r("p",{staticClass:"text-input"},[e._v("總金額：$"+e._s(e._f("currency")(e.detail.iMoneyTotal)))]),r("p",{staticClass:"text-input"},[e._v("備註："+e._s(e.detail.addressee_2.vRemarks))])])])])])])},on=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("商品品項")]),r("th",{attrs:{width:"140"}},[e._v("數量")]),r("th",{attrs:{width:"140"}},[e._v("單價")]),r("th",{attrs:{width:"140"}},[e._v("總價")])])])}],sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",[e._v(e._s(e.productName))]),r("p",{staticClass:"spec text-input"},[e._v(e._s(e.specName))])])])]),r("td",[e._v(e._s(e._f("currency")(e.buyCount)))]),r("td",[r("p",[e._v("$"+e._s(e._f("currency")(e.price)))])]),r("td",[r("p",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))])])])},cn=[],un={props:{info:{type:Object,required:!0}},setup:function(e){var t=Object(o["g"])(e),r=t.info,a=Object(o["a"])((function(){return r.value.vProductName})),n=Object(o["a"])((function(){return r.value.spec.vSpecTitle})),i=Object(o["a"])((function(){return r.value.iPromoPrice})),s=Object(o["a"])((function(){return r.value.iCount})),c=Object(o["a"])((function(){return i.value*s.value})),u=Object(o["a"])((function(){var e=r.value.vImages;return e.length>0?e[0]:""}));return{productName:a,specName:n,price:i,buyCount:s,subTotal:c,productImage:u}}},ln=un,dn=Object(R["a"])(ln,sn,cn,!1,null,null,null),mn=dn.exports,pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",[e._v(e._s(e.activityName))]),r("ul",{staticClass:"combo-list"},e._l(e.bundleList,(function(t){return r("li",{key:t.iId,staticClass:"combo-item"},[r("span",[e._v(e._s(e._f("currency")(t.iCount)))]),r("span",{staticClass:"text-input"},[e._v("x")]),r("span",{staticClass:"name"},[e._v(e._s(t.vProductName))])])})),0)])])]),r("td",[e._v(e._s(e._f("currency")(e.bundleCount)))]),r("td",[e._v("$"+e._s(e._f("currency")(e.bundlePrice)))]),r("td",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))])])},vn=[],fn={props:{info:{type:Object,required:!0}},setup:function(e,t){t.emit;var r=Object(o["g"])(e),a=r.info,n=Object(o["a"])((function(){return a.value.iCount})),i=Object(o["a"])((function(){return a.value.iBundlePromoPrice})),s=Object(o["a"])((function(){return n.value*i.value})),c=Object(o["a"])((function(){return a.value.vTitle})),u=Object(o["a"])((function(){var e=a.value.vImages;return e.length>0?e[0]:""})),l=Object(o["a"])((function(){return a.value.meta.reduce((function(e,t){return e.push({iId:t.iId,iCount:t.iCount,vProductName:t.vProductName}),e}),[])}));return{bundleCount:n,bundlePrice:i,subTotal:s,activityName:c,productImage:u,bundleList:l}}},bn=fn,gn=Object(R["a"])(bn,pn,vn,!1,null,null,null),hn=gn.exports,_n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",[e._v(e._s(e.activityName))]),r("ul",{staticClass:"combo-list"},e._l(e.bundleList,(function(t){return r("li",{key:t.iId,staticClass:"combo-item"},[r("span",[e._v(e._s(e._f("currency")(t.iCount)))]),r("span",{staticClass:"text-input"},[e._v("x")]),r("span",{staticClass:"name"},[e._v(e._s(t.vProductName))])])})),0)])])]),r("td",[e._v(e._s(e._f("currency")(e.bundleCount)))]),r("td",[e._v("$"+e._s(e._f("currency")(e.bundlePrice)))]),r("td",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))])])},Cn=[],yn={props:{info:{type:Object,required:!0}},setup:function(e,t){t.emit;var r=Object(o["g"])(e),a=r.info,n=Object(o["a"])((function(){return a.value.iCount})),i=Object(o["a"])((function(){return a.value.iBundlePromoPrice})),s=Object(o["a"])((function(){return n.value*i.value})),c=Object(o["a"])((function(){return a.value.vTitle})),u=Object(o["a"])((function(){var e=a.value.vImages;return e.length>0?e[0]:""})),l=Object(o["a"])((function(){return a.value.meta.reduce((function(e,t){return e.push({iId:t.iId,iCount:t.iCount,vProductName:t.vProductName}),e}),[])}));return{bundleCount:n,bundlePrice:i,subTotal:s,activityName:c,productImage:u,bundleList:l}}},wn=yn,kn=Object(R["a"])(wn,_n,Cn,!1,null,null,null),xn=kn.exports,On={components:{NormalDetailRow:mn,ActivityDetailRow:hn,MatchDetailRow:xn},props:{accordion:{type:Object,required:!0},invoiceList:{type:Array,required:!0}},setup:function(e,t){t.emit;var r=Object(o["g"])(e),a=r.accordion,n=r.invoiceList,i=X(),s=i.invoiceMappingKey,c=i.processNormalProduct,u=i.processActivityProduct,l=Object(o["f"])(!1),d=Object(o["e"])({data:[]}),m=Object(o["a"])((function(){var e=n.value.find((function(e){return e.value===a.value.info.iInvoiceType}));return void 0!==e?e.text:""})),p=Object(o["a"])((function(){var e=s[a.value.info.iInvoiceType];return a.value.info[e]||""})),v=Object(o["a"])((function(){if(null===a.value.cvs_com)return"";var e="";for(var t in a.value.cvs_com)e+=a.value.cvs_com[t];return e})),f=function(e){l.value=!l.value;var t=document.querySelector("header").offsetHeight,r=e.currentTarget.offsetTop;l.value&&setTimeout((function(){window.scrollTo(0,r-t-30)}),0)};return Object(o["d"])((function(){var e=c(a.value.meta),t=u(a.value.activity_product_promotions_meta_bundle);d.data=e.concat(t)})),{detail:a,isOpen:l,cartList:d,invoiceTitle:m,invoiceValue:p,storeName:v,triggerHandler:f}}},jn=On,In=(r("e0ce"),Object(R["a"])(jn,nn,on,!1,null,"79dc2f9c",null)),Nn=In.exports,Pn={components:{AccordionItem:Nn},props:{accordionList:{type:Array,required:!0}},setup:function(e){var t=Object(o["f"])(null),r=Object(o["e"])({list:[]});return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lo.invoice().then((function(e){return e.aaData}));case 2:r.list=e.sent;case 3:case"end":return e.stop()}}),e)})))),{invoiceInfo:r,accordionItems:t}}},Tn=Pn,$n=Object(R["a"])(Tn,rn,an,!1,null,"d64be3b6",null),Ln=$n.exports,Sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-block"},[r("i",{staticClass:"fal fa-exclamation-circle"}),r("span",[e._v(e._s(e.text))])])},An=[],qn={props:{text:{type:String,default:""}},setup:function(){return{}}},Rn=qn,Mn=(r("4bdf"),Object(R["a"])(Rn,Sn,An,!1,null,"ced7a16a",null)),Hn=Mn.exports,En={name:"order_history",components:{HistoryAccordion:Ln,EmptyBlock:Hn},metaInfo:function(){return{title:"訂單管理"}},setup:function(e,t){var r=t.emit,a=null,n=Object(o["f"])(""),i=Object(o["f"])(null),s=Object(o["f"])(null),c=Object(o["e"])({id:"0",list:{0:"等待處理",1:"訂單已完成",2:"訂單已取消",3:"處理中"}}),u=Object(o["e"])({current:1,next:1,total:0,loading:!1}),m=Object(o["e"])({list:[]}),p=Object(o["a"])((function(){return u.next<=u.total})),v=Object(o["a"])((function(){return u.loading?"載入中...":"顯示更多"})),f=Object(o["a"])((function(){return m.list.length>0})),b=function(){var e=tn()().subtract(6,"month").toDate(),t=new Date,r=tn()().subtract(1,"month").toDate();a=new flatpickr(i.value,{mode:"range",dateFormat:"Y/m/d",minDate:e,maxDate:t,defaultDate:[r,t],locale:{rangeSeparator:"~"}})},g=function(e){u.current=e.current_page,u.next=e.current_page+1,u.total=e.total_pages},h=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var i,o,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(l["a"])(a.selectedDates,2),o=i[0],s=i[1],e.next=3,lo.order_history({create_time_start:tn()(o).format("YYYY-MM-DD"),create_time_end:tn()(s).format("YYYY-MM-DD"),order_num:n.value,status:c.id,page:void 0!==r?r:u.next});case 3:d=e.sent,g(d),m.list=t?m.list.concat(d.aaData):d.aaData;case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_=function(){s.value.$refs.accordionItems.forEach((function(e){return e.isOpen=!1}))},C=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.loading=!0,e.next=3,h(!0);case 3:u.loading=!1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r("loading",!0),e.next=3,h(!1,1);case 3:_(),r("loading",!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:b(),y();case 2:case"end":return e.stop()}}),e)})))),{accordionBlock:s,orderNumber:n,dateInput:i,orderStatus:c,paginationInfo:u,accordionInfo:m,hasNextPage:p,hasHistory:f,seeMoreButtonText:v,seeMore:C,submitHandler:y}}},Dn=En,Bn=(r("736b"),Object(R["a"])(Dn,Wa,Xa,!1,null,"2d02227e",null)),Un=Bn.exports,Fn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"point-history-block"},[e._v(" point ")])},Gn=[],Vn={metaInfo:function(){return{title:"點數紀錄"}},setup:function(e){return{}}},Zn=Vn,zn=Object(R["a"])(Zn,Fn,Gn,!1,null,null,null),Kn=zn.exports,Yn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cart-step1-block cart-outer"},[e.hasCart?[r("div",{staticClass:"temperature-list"},e._l(e.temperatureTab,(function(t){return r("TemperatureItem",{key:t.iId,attrs:{info:t,temperatureType:e.temperatureType},on:{setTab:e.setTab}})})),1),r("div",{staticClass:"picked-cart-outer"},[r("table",{staticClass:"picked-cart-table"},[r("thead",[r("tr",[r("th",{attrs:{width:"100"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isAllChecked,expression:"isAllChecked"}],staticClass:"hook-checkbox cart",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAllChecked)?e._i(e.isAllChecked,null)>-1:e.isAllChecked},on:{change:[function(t){var r=e.isAllChecked,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&(e.isAllChecked=r.concat([i])):o>-1&&(e.isAllChecked=r.slice(0,o).concat(r.slice(o+1)))}else e.isAllChecked=n},e.changeAllChecked]}}),e._v("全選 ")]),r("th",{staticClass:"left"},[e._v("商品品項")]),r("th",[e._v("數量")]),r("th",[e._v("單價")]),r("th",[e._v("總價")]),r("th",[e._v("刪除")])])]),r("tbody",e._l(e.filterCartList,(function(t){return r(t.componentName,{key:t.uid,tag:"tr",attrs:{info:t},on:{changeCount:e.changeCount,singleCheck:e.singleCheck,remove:e.removeCartItem}})})),1)]),r("div",{staticClass:"picked-cart-summary"},[r("p",[e._v("共"),r("span",{staticClass:"text-primary"},[e._v(e._s(e._f("currency")(e.filterCartCount)))]),e._v("項商品")]),r("p",[e._v("商品小計")]),r("p",[e._v("$"+e._s(e._f("currency")(e.filterCartSubTotal)))])])]),r("div",{staticClass:"fill-outer"},[r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("配送方式")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("配送取貨")]),r("div",{staticClass:"content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderConfig.ship.id,expression:"orderConfig.ship.id"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderConfig.ship,"id",t.target.multiple?r:r[0])}}},e._l(e.shipList,(function(t){return r("option",{domProps:{value:t.iId}},[e._v(e._s(t.vTitle))])})),0)]),r("p",{staticClass:"title required"},[e._v("付款方式")]),r("div",{staticClass:"content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderConfig.pay.id,expression:"orderConfig.pay.id"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderConfig.pay,"id",t.target.multiple?r:r[0])}}},e._l(e.orderConfig.pay.list,(function(t){return r("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])})),0)])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("發票選項")]),r("div",{staticClass:"content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderConfig.invoice.id,expression:"orderConfig.invoice.id"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderConfig.invoice,"id",t.target.multiple?r:r[0])}}},e._l(e.orderConfig.invoice.list,(function(t){return r("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])})),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showCompanyTitle,expression:"showCompanyTitle"}],staticClass:"content remained"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderConfig.invoice.companyTitle,expression:"orderConfig.invoice.companyTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"公司抬頭"},domProps:{value:e.orderConfig.invoice.companyTitle},on:{input:function(t){t.target.composing||e.$set(e.orderConfig.invoice,"companyTitle",t.target.value)}}})]),r("div",{staticClass:"content remained"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderConfig.invoice.value,expression:"orderConfig.invoice.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.invoicePlaceholder},domProps:{value:e.orderConfig.invoice.value},on:{input:function(t){t.target.composing||e.$set(e.orderConfig.invoice,"value",t.target.value)}}})])])])]),r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("訂購人資訊")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("姓名")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderer.vName,expression:"orderer.vName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請填寫姓名"},domProps:{value:e.orderer.vName},on:{input:function(t){t.target.composing||e.$set(e.orderer,"vName",t.target.value)}}})]),r("p",{staticClass:"title required"},[e._v("性別")]),r("div",{staticClass:"content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderer.vGender,expression:"orderer.vGender"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderer,"vGender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇性別")]),e._l(e.genderList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.title))])}))],2)])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("手機號碼")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderer.vContact,expression:"orderer.vContact"}],staticClass:"form-control",attrs:{type:"number",placeholder:"請填寫手機號碼"},domProps:{value:e.orderer.vContact},on:{input:function(t){t.target.composing||e.$set(e.orderer,"vContact",t.target.value)}}})]),r("p",{staticClass:"title required"},[e._v("電子信箱")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.orderer.vEmail,expression:"orderer.vEmail"}],staticClass:"form-control",attrs:{type:"email",placeholder:"請填寫電子信箱"},domProps:{value:e.orderer.vEmail},on:{input:function(t){t.target.composing||e.$set(e.orderer,"vEmail",t.target.value)}}})])]),r("AddressField",{attrs:{fieldName:"訂購人地址",city:e.orderer.vCity,district:e.orderer.vArea,zipcode:e.orderer.vZipCode,address:e.orderer.vAddress},on:{"update:city":function(t){return e.$set(e.orderer,"vCity",t)},"update:district":function(t){return e.$set(e.orderer,"vArea",t)},"update:zipcode":function(t){return e.$set(e.orderer,"vZipCode",t)},"update:address":function(t){return e.$set(e.orderer,"vAddress",t)}}})],1)]),r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("收件人資訊")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"}),r("label",{staticClass:"content same"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.syncOrderer,expression:"syncOrderer"}],staticClass:"hook-checkbox cart",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.syncOrderer)?e._i(e.syncOrderer,null)>-1:e.syncOrderer},on:{change:[function(t){var r=e.syncOrderer,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&(e.syncOrderer=r.concat([i])):o>-1&&(e.syncOrderer=r.slice(0,o).concat(r.slice(o+1)))}else e.syncOrderer=n},e.syncHandler]}}),r("span",[e._v("同訂購人")])])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("姓名")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.vName,expression:"recipient.vName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請填寫姓名",disabled:e.syncOrderer},domProps:{value:e.recipient.vName},on:{input:function(t){t.target.composing||e.$set(e.recipient,"vName",t.target.value)}}})]),r("p",{staticClass:"title required"},[e._v("性別")]),r("div",{staticClass:"content"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.recipient.vGender,expression:"recipient.vGender"}],staticClass:"form-control",attrs:{disabled:e.syncOrderer},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.recipient,"vGender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇性別")]),e._l(e.genderList,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.title))])}))],2)])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v("手機號碼")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.vContact,expression:"recipient.vContact"}],staticClass:"form-control",attrs:{type:"number",placeholder:"請填寫手機號碼",disabled:e.syncOrderer},domProps:{value:e.recipient.vContact},on:{input:function(t){t.target.composing||e.$set(e.recipient,"vContact",t.target.value)}}})]),r("p",{staticClass:"title required"},[e._v("電子信箱")]),r("div",{staticClass:"content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.vEmail,expression:"recipient.vEmail"}],staticClass:"form-control",attrs:{type:"email",placeholder:"請填寫電子信箱",disabled:e.syncOrderer},domProps:{value:e.recipient.vEmail},on:{input:function(t){t.target.composing||e.$set(e.recipient,"vEmail",t.target.value)}}})])]),r("AddressField",{attrs:{fieldName:"收件人地址",city:e.recipient.vCity,district:e.recipient.vArea,zipcode:e.recipient.vZipCode,address:e.recipient.vAddress,disabled:e.syncOrderer},on:{"update:city":function(t){return e.$set(e.recipient,"vCity",t)},"update:district":function(t){return e.$set(e.recipient,"vArea",t)},"update:zipcode":function(t){return e.$set(e.recipient,"vZipCode",t)},"update:address":function(t){return e.$set(e.recipient,"vAddress",t)}}}),r("div",{staticClass:"fill-row align-top"},[r("p",{staticClass:"title required"},[e._v("備註")]),r("div",{staticClass:"content remained"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.recipient.vRemarks,expression:"recipient.vRemarks"}],staticClass:"form-control",attrs:{placeholder:"請填寫備註"},domProps:{value:e.recipient.vRemarks},on:{input:function(t){t.target.composing||e.$set(e.recipient,"vRemarks",t.target.value)}}})])])],1)])]),r("div",{staticClass:"summary-outer"},[r("h3",{staticClass:"text-primary"},[e._v("金額統計")]),r("div",{staticClass:"summary-body"},[r("div",{staticClass:"summary-row"},[r("div",[e._v("商品金額")]),r("div",[e._v("$"+e._s(e._f("currency")(e.filterCartSubTotal)))])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("運費")]),r("div",[e._v(" $"+e._s(e._f("currency")(e.shipFee))+" "),r("span",{staticClass:"text-primary"},[e._v("(滿$"+e._s(e._f("currency")(e.freeShipmentAmount))+"免運)")])])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("會員點數")]),r("div",[e._v("$"+e._s(e._f("currency")(e.userPoint.total))+"點")])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("點數折抵")]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.userPoint.used,expression:"userPoint.used",modifiers:{number:!0}}],ref:"pointInput",staticClass:"form-control point-input",attrs:{type:"number"},domProps:{value:e.userPoint.used},on:{keydown:e.checkPointKeydown,blur:[e.checkInsertedPoint,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userPoint,"used",e._n(t.target.value))}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:e.insertedPointIsError,expression:"insertedPointIsError"}],staticClass:"error-text"},[e._v("點數輸入有誤")])])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("結帳金額")]),r("div",[e._v("$"+e._s(e._f("currency")(e.settleDollar)))])])])]),r("div",{staticClass:"btnBox center"},[r("button",{staticClass:"btn-primary",class:{disabled:!e.canSubmit},staticStyle:{"--width":"150px"},on:{click:e.submitHandler}},[e._v("下一步")])])]:[r("EmptyBlock",{attrs:{text:"目前購物車無商品"}})],r("modal-message",{ref:"cartModal",attrs:{showCancel:!0,showConfirm:!1,cancelText:"確認"}},[r("p",[e._v(e._s(e.createdResult.message))])]),r("modal-message",{ref:"checkModal",on:{confirm:e.checkBuildHandler}},[r("p",[e._v(e._s(e.checkedBuildResult.message))])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],2)},Jn=[],Qn=r("b85c"),Wn=(r("c740"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"temperature-item",class:{active:e.isActive},on:{click:e.clickHandler}},[e._v(e._s(e.temperatureTitle))])}),Xn=[],ei={props:{info:{type:Object,required:!0},temperatureType:{type:String,default:""}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.info,i=a.temperatureType,s=Object(o["a"])((function(){return n.value.vTemperatureTitle})),c=Object(o["a"])((function(){return n.value.vTemperatureCode===i.value})),u=function(){c.value||r("setTab",{type:n.value.vTemperatureCode})};return{temperatureTitle:s,isActive:c,clickHandler:u}}},ti=ei,ri=(r("f6f0"),Object(R["a"])(ti,Wn,Xn,!1,null,null,null)),ai=ri.exports,ni=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"td-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],staticClass:"hook-checkbox cart",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(t){var r=e.isChecked,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&(e.isChecked=r.concat([i])):o>-1&&(e.isChecked=r.slice(0,o).concat(r.slice(o+1)))}else e.isChecked=n}}})]),r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("router-link",{staticClass:"title",attrs:{to:e.productUrl}},[e._v(e._s(e.productName))]),r("p",{staticClass:"spec text-input"},[e._v(e._s(e.specName))])],1)])]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model.number",value:e.specInfo.count,expression:"specInfo.count",modifiers:{number:!0}}],staticClass:"form-control",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var r="_value"in t?t._value:t.value;return e._n(r)}));e.$set(e.specInfo,"count",t.target.multiple?r:r[0])},e.changeCount]}},e._l(e.totalStocks,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("td",[r("p",[e._v("$"+e._s(e._f("currency")(e.price)))])]),r("td",[r("p",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))])]),r("td",[r("i",{staticClass:"fal fa-trash-alt",on:{click:e.removeHandler}})])])},ii=[],oi={props:{info:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.info,i=Object(o["e"])({id:"",count:1,list:[]}),s=Object(o["a"])((function(){return n.value.product.vProductName})),c=Object(o["a"])((function(){return n.value.spec.vSpecTitle})),u=Object(o["a"])((function(){return n.value.spec.price.iSpecPromoPrice})),l=Object(o["a"])((function(){return n.value.spec.iSpecStock})),d=Object(o["a"])((function(){return u.value*i.count})),m=Object(o["a"])((function(){var e=n.value.product.vImages;return e.length>0?e[0]:""})),p=Object(o["a"])({get:function(){return n.value.isChecked},set:function(e){r("singleCheck",{uid:n.value.uid,isChecked:e})}}),v=Object(o["a"])((function(){return{name:n.value.routeName,params:{productCode:n.value.vProductCode},query:{specId:n.value.iSpecId}}})),f=function(){r("changeCount",{vProductCode:n.value.vProductCode,iSpecId:i.id,iCount:i.count})},b=function(){r("remove",{cartType:n.value.cartType,iId:n.value.iId,uid:n.value.uid})};return Object(o["d"])((function(){i.count=n.value.iCount<=l.value?n.value.iCount:1,i.id=n.value.iSpecId})),{specInfo:i,productName:s,specName:c,price:u,totalStocks:l,subTotal:d,productImage:m,isChecked:p,productUrl:v,changeCount:f,removeHandler:b}}},si=oi,ci=Object(R["a"])(si,ni,ii,!1,null,null,null),ui=ci.exports,li=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"td-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],staticClass:"hook-checkbox cart",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(t){var r=e.isChecked,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&(e.isChecked=r.concat([i])):o>-1&&(e.isChecked=r.slice(0,o).concat(r.slice(o+1)))}else e.isChecked=n}}})]),r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("router-link",{staticClass:"title",attrs:{to:e.productUrl}},[e._v(e._s(e.activityName))]),r("ul",{staticClass:"combo-list"},e._l(e.bundleList,(function(t){return r("li",{key:t.iId,staticClass:"combo-item"},[r("span",[e._v(e._s(e._f("currency")(t.iCount)))]),r("span",{staticClass:"text-input"},[e._v("x")]),r("span",{staticClass:"name"},[e._v(e._s(t.vProductName))])])})),0)],1)])]),r("td",[e._v(e._s(e._f("currency")(e.bundleCount)))]),r("td",[e._v("$"+e._s(e._f("currency")(e.bundlePrice)))]),r("td",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))]),r("td",[r("i",{staticClass:"fal fa-trash-alt",on:{click:e.removeHandler}})])])},di=[],mi={props:{info:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.info,i=Object(o["a"])((function(){return n.value.iCount})),s=Object(o["a"])((function(){return n.value.iBundlePromoPrice})),c=Object(o["a"])((function(){return i.value*s.value})),u=Object(o["a"])((function(){var e=n.value.activity_product_promotions.vImages;return e.length>0?e[0]:""})),l=Object(o["a"])((function(){return n.value.activity_product_promotions.vTitle})),d=Object(o["a"])({get:function(){return n.value.isChecked},set:function(e){r("singleCheck",{uid:n.value.uid,isChecked:e})}}),m=Object(o["a"])((function(){var e=n.value,t=e.routeName,r=e.activity_product_promotions,a=e.vActivityCode;return{name:t,query:{activityId:r.iId,activityType:a}}})),p=Object(o["a"])((function(){var e=n.value.cart;return e.reduce((function(e,t){return e.push({iId:t.iId,iCount:t.iCount,vProductName:t.product.vProductName}),e}),[])})),v=function(){r("remove",{cartType:n.value.cartType,iId:n.value.iId,uid:n.value.uid})};return{bundleCount:i,bundlePrice:s,subTotal:c,productImage:u,activityName:l,isChecked:d,productUrl:m,bundleList:p,removeHandler:v}}},pi=mi,vi=Object(R["a"])(pi,li,di,!1,null,null,null),fi=vi.exports,bi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"td-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],staticClass:"hook-checkbox cart",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(t){var r=e.isChecked,a=t.target,n=!!a.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);a.checked?o<0&&(e.isChecked=r.concat([i])):o>-1&&(e.isChecked=r.slice(0,o).concat(r.slice(o+1)))}else e.isChecked=n}}})]),r("td",[r("div",{staticClass:"productInfo"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.productImage,alt:""}})]),r("div",{staticClass:"descBox"},[r("router-link",{staticClass:"title",attrs:{to:e.productUrl}},[e._v(e._s(e.activityName))]),r("ul",{staticClass:"combo-list"},e._l(e.bundleList,(function(t){return r("li",{key:t.iId,staticClass:"combo-item"},[r("span",[e._v(e._s(e._f("currency")(t.iCount)))]),r("span",{staticClass:"text-input"},[e._v("x")]),r("span",{staticClass:"name"},[e._v(e._s(t.vProductName))])])})),0)],1)])]),r("td",[e._v(e._s(e._f("currency")(e.bundleCount)))]),r("td",[e._v("$"+e._s(e._f("currency")(e.bundlePrice)))]),r("td",{staticClass:"text-primary"},[e._v("$"+e._s(e._f("currency")(e.subTotal)))]),r("td",[r("i",{staticClass:"fal fa-trash-alt",on:{click:e.removeHandler}})])])},gi=[],hi={props:{info:{type:Object,required:!0}},setup:function(e,t){var r=t.emit,a=Object(o["g"])(e),n=a.info,i=Object(o["a"])((function(){return n.value.iCount})),s=Object(o["a"])((function(){return n.value.iBundlePromoPrice})),c=Object(o["a"])((function(){return i.value*s.value})),u=Object(o["a"])((function(){var e=n.value.activity_product_promotions.vImages;return e.length>0?e[0]:""})),l=Object(o["a"])((function(){return n.value.activity_product_promotions.vTitle})),d=Object(o["a"])({get:function(){return n.value.isChecked},set:function(e){r("singleCheck",{uid:n.value.uid,isChecked:e})}}),m=Object(o["a"])((function(){var e=n.value,t=e.routeName,r=e.activity_product_promotions,a=e.vActivityCode;return{name:t,query:{activityId:r.iId,activityType:a}}})),p=Object(o["a"])((function(){var e=n.value.cart;return e.reduce((function(e,t){return e.push({iId:t.iId,iCount:t.iCount,vProductName:t.product.vProductName}),e}),[])})),v=function(){r("remove",{cartType:n.value.cartType,iId:n.value.iId,uid:n.value.uid})};return{bundleCount:i,bundlePrice:s,subTotal:c,productImage:u,activityName:l,isChecked:d,productUrl:m,bundleList:p,removeHandler:v}}},_i=hi,Ci=Object(R["a"])(_i,bi,gi,!1,null,null,null),yi=Ci.exports,wi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title required"},[e._v(e._s(e.fieldName))]),r("div",{staticClass:"content address"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.cityVal,expression:"cityVal"}],staticClass:"form-control",attrs:{disabled:e.disabled},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cityVal=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("選擇縣市")]),e._l(e.cityList,(function(t){return r("option",{key:t},[e._v(e._s(t))])}))],2)]),r("div",{staticClass:"content address"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.districtVal,expression:"districtVal"}],staticClass:"form-control",attrs:{disabled:e.disabled},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.districtVal=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("選擇地區")]),e._l(e.districtList,(function(t){return r("option",{key:t.name},[e._v(e._s(t.name))])}))],2)]),r("div",{staticClass:"content remained"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressVal,expression:"addressVal"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請填寫地址",disabled:e.disabled},domProps:{value:e.addressVal},on:{input:function(t){t.target.composing||(e.addressVal=t.target.value)}}})])])},ki=[],xi={props:{fieldName:{type:String,default:""},city:{type:String,required:!0},district:{type:String,required:!0},zipcode:{required:!0},address:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,t){var r=t.emit,a=Object(o["e"])(U),n=Object(o["a"])((function(){return a.map((function(e){return e.name}))})),i=Object(o["a"])((function(){var e=a.find((function(e){return e.name===s.value}));return void 0!==e?e.region:[]})),s=Object(o["a"])({get:function(t){return e.city},set:function(e){r("update:city",e)}}),c=Object(o["a"])({get:function(){return e.district},set:function(e){r("update:district",e)}}),u=Object(o["a"])({get:function(){return e.zipcode},set:function(e){r("update:zipcode",e)}}),l=Object(o["a"])({get:function(){return e.address},set:function(e){r("update:address",e)}});return Object(o["h"])((function(){return i.value}),(function(e){c.value=void 0!==e[0]?e[0].name:""})),Object(o["h"])((function(){return c.value}),(function(e){var t=i.value.find((function(t){return t.name===e}));u.value=void 0!==t?t.code:0}),{immediate:!0}),{cityList:n,cityVal:s,districtList:i,districtVal:c,addressVal:l}}},Oi=xi,ji=Object(R["a"])(Oi,wi,ki,!1,null,null,null),Ii=ji.exports,Ni={name:"cart-step1",components:{TemperatureItem:ai,NormalEditRow:ui,ActivityEditRow:fi,MatchEditRow:yi,AddressField:Ii,EmptyBlock:Hn},setup:function(e,t){var r=t.root,a=K(),n=a.genderList,i=X(),s=i.invoiceMappingKey,c=Object(o["e"])({data:[]}),u=Object(o["e"])({data:[]}),p=Object(o["f"])(""),v=Object(o["f"])(!0),f=Object(o["f"])(!1),b=Object(o["f"])(!1),g=Object(o["f"])(0),h=Object(o["f"])(!1),_=Object(o["f"])(null),C=Object(o["f"])(null),y=Object(o["f"])(null),w=Object(o["e"])({vName:"",vGender:"",vContact:"",vEmail:"",vCity:"",vArea:"",vAddress:"",vZipCode:0}),k=Object(o["e"])({vName:"",vGender:"",vContact:"",vEmail:"",vCity:"",vArea:"",vAddress:"",vZipCode:0,vRemarks:""}),x=Object(o["e"])({pay:{id:"",list:[]},invoice:{id:"",list:[],value:"",companyTitle:""},ship:{id:0,list:[]},outbound:[]}),O=Object(o["e"])({id:0,total:0,used:0}),j=Object(o["e"])({status:0,message:""}),I=Object(o["e"])({status:0,message:"",orderNumber:""}),N=Object(o["a"])((function(){return c.data.length>0})),P=Object(o["a"])((function(){return u.data.filter((function(e){return e.count>0}))})),T=Object(o["a"])((function(){return c.data.filter((function(e){return e.temperatureCode===p.value}))})),$=Object(o["a"])((function(){return T.value.length})),L=Object(o["a"])((function(){var e=T.value.filter((function(e){return"normal"===e.cartType&&e.isChecked}));return e.reduce((function(e,t){return e+=t.iCount*t.spec.price.iSpecPromoPrice,e}),0)})),S=Object(o["a"])((function(){var e=T.value.filter((function(e){return"activity"===e.cartType&&e.isChecked}));return e.reduce((function(e,t){return e+=t.iCount*t.iBundlePromoPrice,e}),0)})),A=Object(o["a"])((function(){return L.value+S.value})),q=Object(o["a"])((function(){return A.value>0})),R=Object(o["a"])((function(){var e={0:"",1:"請輸入手機條碼",2:"請輸入自然人憑證",4:"請輸入電子信箱",5:"請輸入統一編號"};return e[x.invoice.id]||""})),M=Object(o["a"])((function(){return 5===x.invoice.id})),H=Object(o["a"])((function(){return x.ship.list.filter((function(e){return e.vTemperatureCode===p.value}))})),E=Object(o["a"])((function(){var e=H.value.find((function(e){return e.iId===x.ship.id}));return void 0!==e?e:null})),D=Object(o["a"])((function(){return null!==E.value?E.value.iFreeShipment:-1})),B=Object(o["a"])((function(){if(D.value<0)return!1;var e=""===O.used?0:O.used;return A.value-e>=D.value})),U=Object(o["a"])((function(){if(null===E.value)return 0;if(B.value)return 0;var e=x.outbound.some((function(e){return e.vTitle===k.district})),t=E.value,r=t.iShipment,a=t.iShipmentOutbound;return e?a:r})),F=function(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var a=16*Math.random();return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(t+a)%16|0,t=Math.floor(t/16)),("x"===r?a:3&a|8).toString(16)}))},G=function(e){return parseInt(e.replace(/,/g,""))},V=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:r=[],a=Object(Qn["a"])(t),e.prev=4,a.s();case 6:if((n=a.n()).done){e.next=16;break}if(i=n.value,!(i.spec.iSpecStock<=0)){e.next=13;break}return e.next=11,ro.removeCart(i.iId);case 11:e.next=14;break;case 13:r.push(Object(m["a"])(Object(m["a"])({},i),{},{uid:F(),temperatureCode:i.product.temperature.vTemperatureCode,isChecked:v.value,componentName:"NormalEditRow",cartType:"normal",routeName:"product_detail"}));case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](4),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:r=[],a=Q(),n=Object(Qn["a"])(t),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=20;break}if(o=i.value,s=o.cart.every((function(e){return e.spec.iSpecStock>0})),s){e.next=15;break}return e.next=13,ao.removeCart(o.iId);case 13:e.next=18;break;case 15:c="full_amount"===o.vActivityCode,u=c?"ActivityEditRow":"MatchEditRow",r.push(Object(m["a"])(Object(m["a"])({},o),{},{uid:F(),temperatureCode:o.temperature.vTemperatureCode,isChecked:v.value,componentName:u,cartType:"activity",routeName:a[o.vActivityCode][o.activity_product_promotions.iType].routeName}));case 18:e.next=7;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](5),n.e(e.t0);case 25:return e.prev=25,n.f(),e.finish(25);case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),z=function(e,t){return e.reduce((function(e,r){var a=t.filter((function(e){return e.temperatureCode===r.vTemperatureCode}));return e.push(Object(m["a"])(Object(m["a"])({},r),{},{count:a.length})),e}),[])},Y=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o,s,d,m,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ro.getCart(),ao.getCart(),io.product_temperature()]);case 2:return t=e.sent,r=Object(l["a"])(t,3),a=r[0],n=r[1],i=r[2],e.next=9,Promise.all([V(a.aaData),Z(n.aaData)]);case 9:o=e.sent,s=Object(l["a"])(o,2),d=s[0],m=s[1],v=d.concat(m),u.data=z(i.aaData,v),c.data=d.concat(m),p.value=0!==P.value.length?P.value[0].vTemperatureCode:"";case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){p.value=e.type,v.value=T.value.every((function(e){return e.isChecked}))},W=function(){var e=u.data.find((function(e){return e.vTemperatureCode===p.value}));e.count=$.value,$.value>0||(P.value.length>0?J({type:P.value[0].vTemperatureCode}):p.value="")},ee=function(e){var t=T.value.find((function(t){return t.uid===e.uid}));t.isChecked=e.isChecked,v.value=T.value.every((function(e){return e.isChecked}))},te=function(){T.value.forEach((function(e){return e.isChecked=v.value}))},re=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.vProductCode,a=t.iSpecId,n=t.iCount,i=T.value.find((function(e){return e.vProductCode===r&&e.iSpecId===a})),ro.addCart(t),i.iCount=n;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.value=!0,a=t.cartType,n=t.uid,i=t.iId,o={normal:ro,activity:ao},e.next=5,o[a].removeCart(i);case 5:if(s=e.sent,0!==s.status){e.next=8;break}return e.abrupt("return",f.value=!1);case 8:u=c.data.findIndex((function(e){return e.uid===n})),c.data.splice(u,1),r.$store.dispatch("cart/getAllCart"),W(),f.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uo.getProfile();case 2:t=e.sent,r=t.aaData.member_profile,w.vName=r.name,w.vGender=r.gender,w.vContact=r.mobile,w.vEmail=r.email,w.vCity=r.city,w.vArea=r.district,w.vAddress=r.address;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b.value){e.next=2;break}return e.abrupt("return");case 2:for(t in w)k[t]=w[t];return e.next=5,r.$nextTick();case 5:k.vArea=w.vArea;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([lo.pay(),lo.invoice(),lo.ship(),lo.outbound(),uo.summary()]);case 2:t=e.sent,r=Object(l["a"])(t,5),a=r[0],n=r[1],i=r[2],o=r[3],s=r[4],se(a),ce(n),x.ship.list=i.aaData,x.outbound=o.aaData,c=s.aaData.point_summary.current_point[0],O.id=c.point_id,O.total=G(c.amount);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){x.pay.list=e.aaData,x.pay.id=e.aaData[0].value},ce=function(e){x.invoice.list=e.aaData,x.invoice.id=e.aaData[0].value},ue=function(e){var t=e.keyCode;-1!==[46,8,9,27,13,190].indexOf(t)||65===e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||t<48||t>57)&&(t<96||t>105)&&e.preventDefault()},le=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=O.total,r=O.used,""===r?(h.value=!1,O.used=0):r>t||r>A.value?(h.value=!0,de()):h.value=!1,me();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=_.value;e.value="",O.used=0,e.focus()},me=function(){g.value=A.value+U.value-O.used},pe=function(e){return T.value.filter((function(t){return t.cartType===e&&t.isChecked})).map((function(e){return e.iId}))},ve=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lo.order_detail(t);case 2:a=e.sent,n=a.status,i=a.message,I.status=n,I.message=i,I.orderNumber=t,0===n||1===n?(r.$store.dispatch("cart/getAllCart"),y.value.openModal(),f.value=!1):2===n&&setTimeout((function(){ve(t)}),3e3);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){1===I.status?r.$router.push({name:"cart-step2",query:{orderNumber:I.orderNumber}}):y.value.closeModal()},be=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(q.value){e.next=2;break}return e.abrupt("return");case 2:if(!h.value){e.next=4;break}return e.abrupt("return");case 4:return f.value=!0,t={iPayId:x.pay.id,iInvoiceType:x.invoice.id},0!==x.invoice.id&&(t[s[x.invoice.id]]=x.invoice.value),5===x.invoice.id&&(t.vInvoiceCompany=x.invoice.companyTitle),e.next=10,lo.createOrder({cart_ids:pe("normal"),activity_product_promotions_cart_bundle_ids:pe("activity"),product_purchase:[],iShipmentId:x.ship.id,order_info:t,addressee_1:Object(m["a"])(Object(m["a"])({},w),{},{vZipCode:w.vZipCode.toString()}),addressee_2:Object(m["a"])(Object(m["a"])({},k),{},{vZipCode:k.vZipCode.toString()}),point_info:{point_id:O.id,count:O.used},cash_card:[{service:"wish_mmrm_dudooeat",count:0}]});case 10:r=e.sent,j.status=r.status,j.message=r.message,1===r.status?ve(r.vOrderNum):(C.value.openModal(),f.value=!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.value=!0,e.next=3,oe();case 3:return e.next=5,ne();case 5:return e.next=7,Y();case 7:f.value=!1;case 8:case"end":return e.stop()}}),e)})))),Object(o["h"])((function(){return w}),(function(){ie()}),{deep:!0}),Object(o["h"])((function(){return x.invoice.id}),(function(){x.invoice.value="",x.invoice.companyTitle=""})),Object(o["h"])((function(){return H.value}),(function(e){x.ship.id=void 0!==e[0]?e[0].iId:""})),Object(o["h"])(A,(function(){O.used=0,me()})),Object(o["h"])(U,(function(){me()})),{genderList:n,isLoading:f,isAllChecked:v,orderer:w,recipient:k,syncOrderer:b,orderConfig:x,temperatureType:p,pointInput:_,cartModal:C,checkModal:y,checkBuildHandler:fe,insertedPointIsError:h,settleDollar:g,createdResult:j,checkedBuildResult:I,invoicePlaceholder:R,showCompanyTitle:M,hasCart:N,temperatureTab:P,filterCartList:T,filterCartCount:$,filterCartSubTotal:A,canSubmit:q,shipList:H,freeShipmentAmount:D,shipFee:U,userPoint:O,changeAllChecked:te,setTab:J,changeCount:re,singleCheck:ee,removeCartItem:ae,syncHandler:ie,checkPointKeydown:ue,checkInsertedPoint:le,submitHandler:be}}},Pi=Ni,Ti=(r("54da"),Object(R["a"])(Pi,Yn,Jn,!1,null,"02346422",null)),$i=Ti.exports,Li=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cart-step2-block cart-outer"},[r("div",{staticClass:"picked-cart-outer"},[r("table",{staticClass:"picked-cart-table"},[e._m(0),r("tbody",e._l(e.cartList.data,(function(e){return r(e.componentName,{key:e.iId,tag:"tr",attrs:{info:e}})})),1)])]),r("div",{staticClass:"fill-outer"},[r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("配送方式")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("配送取貨:")]),r("div",{staticClass:"content"},[e._v(e._s(e.orderConfig.ship))]),r("p",{staticClass:"title"},[e._v("付款方式:")]),r("div",{staticClass:"content"},[e._v(e._s(e.orderConfig.pay))])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("發票選項:")]),r("div",{staticClass:"content"},[e._v(e._s(e.invoiceTitle)+"-"+e._s(e.orderConfig.invoice.value))])])])]),r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("訂購人資訊")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("姓名:")]),r("div",{staticClass:"content"},[e._v(e._s(e.orderer.vName))]),r("p",{staticClass:"title"},[e._v("性別:")]),r("div",{staticClass:"content"},[e._v(e._s(e.ordererGenderText))])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("手機號碼:")]),r("div",{staticClass:"content"},[e._v(e._s(e.orderer.vContact))]),r("p",{staticClass:"title"},[e._v("電子信箱: ")]),r("div",{staticClass:"content"},[e._v(e._s(e.orderer.vEmail))])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("訂購人地址:")]),r("div",{staticClass:"content"},[e._v(e._s(e.ordererAddress))])])])]),r("div",{staticClass:"fill-block"},[r("h3",{staticClass:"text-primary"},[e._v("收件人資訊")]),r("div",{staticClass:"fill-body"},[r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("姓名:")]),r("div",{staticClass:"content"},[e._v(e._s(e.recipient.vName))]),r("p",{staticClass:"title"},[e._v("性別:")]),r("div",{staticClass:"content"},[e._v(e._s(e.receipentGenderText))])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("手機號碼:")]),r("div",{staticClass:"content"},[e._v(e._s(e.recipient.vContact))]),r("p",{staticClass:"title"},[e._v("電子信箱: ")]),r("div",{staticClass:"content"},[e._v(e._s(e.recipient.vEmail))])]),r("div",{staticClass:"fill-row"},[r("p",{staticClass:"title"},[e._v("訂購人地址:")]),r("div",{staticClass:"content"},[e._v(e._s(e.recipientAddress))])])])])]),r("div",{staticClass:"summary-outer"},[r("h3",{staticClass:"text-primary"},[e._v("金額統計")]),r("div",{staticClass:"summary-body"},[r("div",{staticClass:"summary-row"},[r("div",[e._v("商品金額")]),r("div",[e._v("$"+e._s(e._f("currency")(e.orderConfig.subTotal)))])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("運費")]),r("div",[e._v("$"+e._s(e._f("currency")(e.orderConfig.shipFee)))])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("點數折抵")]),r("div",[e._v(e._s(e._f("currency")(e.orderConfig.pointTotal))+"點")])]),r("div",{staticClass:"summary-row"},[r("div",[e._v("結帳金額")]),r("div",[e._v("$"+e._s(e._f("currency")(e.orderConfig.moneyTotal)))])])])]),r("div",{staticClass:"btnBox flex"},[r("router-link",{staticClass:"btn-primary",staticStyle:{"--width":"120px"},attrs:{to:"/member/order"}},[e._v("訂單紀錄")]),r("a",{staticClass:"btn-primary",staticStyle:{"--width":"120px"},attrs:{href:e.orderConfig.payUrl}},[e._v("前往付款")])],1),r("modal-message",{ref:"tipModal",on:{confirm:e.tipHandler}},[r("p",[e._v(e._s(e.tipMessage))])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Si=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("商品品項")]),r("th",{attrs:{width:"140"}},[e._v("數量")]),r("th",{attrs:{width:"140"}},[e._v("單價")]),r("th",{attrs:{width:"140"}},[e._v("總價")])])])}],Ai={name:"cart-step2",components:{NormalDetailRow:mn,ActivityDetailRow:hn,MatchDetailRow:xn},setup:function(e,t){var r=t.root,a=K(),n=a.genderList,i=X(),s=i.invoiceMappingKey,c=i.processNormalProduct,u=i.processActivityProduct,l=Object(o["f"])(""),m=Object(o["f"])(""),p=Object(o["f"])(!0),v=Object(o["f"])(null),f=Object(o["e"])({data:[]}),b=Object(o["e"])({ship:"",pay:"",invoice:{id:"",list:[],value:""},subTotal:0,pointTotal:0,shipFee:0,moneyTotal:0,payUrl:""}),g=Object(o["e"])({vName:"",vGender:"",vContact:"",vEmail:"",vCity:"",vArea:"",vAddress:"",vZipCode:""}),h=Object(o["e"])({vName:"",vGender:"",vContact:"",vEmail:"",vCity:"",vArea:"",vAddress:"",vZipCode:"",vRemarks:""}),_=Object(o["a"])((function(){var e=n.find((function(e){return e.id===g.vGender}));return void 0!==e?e.title:""})),C=Object(o["a"])((function(){var e=n.find((function(e){return e.id===h.vGender}));return void 0!==e?e.title:""})),y=Object(o["a"])((function(){var e=b.invoice.list.find((function(e){return e.value===b.invoice.id}));return void 0!==e?e.text:""})),w=Object(o["a"])((function(){var e=g.vCity,t=g.vArea,r=g.vAddress,a=g.vZipCode;return"".concat(a).concat(e).concat(t).concat(r)})),k=Object(o["a"])((function(){var e=g.vCity,t=g.vArea,r=g.vAddress,a=g.vZipCode;return"".concat(a).concat(e).concat(t).concat(r)})),x=function(){return r.$router.replace("/")},O=function(e){b.ship=e.shipping.vShipmentType,b.pay=e.info.vPayType,b.invoice.id=e.info.iInvoiceType,b.invoice.value=e.info[s[b.invoice.id]],b.subTotal=e.iSubTotal,b.pointTotal=e.iCoinTotal,b.shipFee=e.iShipmentFee,b.moneyTotal=e.iMoneyTotal,b.payUrl=e.vPayUrl},j=function(e,t){var r="orderer"===e?g:h;for(var a in r)r[a]=t[a]},I=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lo.order_detail({vOrderNum:l.value});case 2:if(t=e.sent,0!==t.status){e.next=7;break}return m.value=t.message,v.value.openModal(),e.abrupt("return");case 7:O(t.aaData),j("orderer",t.aaData.addressee_1),j("recipient",t.aaData.addressee_2),r=c(t.aaData.meta),a=u(t.aaData.activity_product_promotions_meta_bundle),f.data=r.concat(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["d"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=!0,l.value=r.$route.query.orderNumber,e.next=4,lo.invoice().then((function(e){return e.aaData}));case 4:return b.invoice.list=e.sent,e.next=7,I();case 7:p.value=!1;case 8:case"end":return e.stop()}}),e)})))),Object(o["h"])((function(){return r.$route}),function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=!0,l.value=t.query.orderNumber,e.next=4,I();case 4:p.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{cartList:f,isLoading:p,tipMessage:m,ordererGenderText:_,receipentGenderText:C,orderConfig:b,ordererAddress:w,recipientAddress:k,tipModal:v,orderer:g,recipient:h,invoiceTitle:y,tipHandler:x}}},qi=Ai,Ri=(r("f487"),Object(R["a"])(qi,Li,Si,!1,null,"c642fde0",null)),Mi=Ri.exports;a["default"].use(f["a"]);var Hi=[{path:"/",name:"home",component:ge,meta:{auth:!1,layout:"home-layout",pageName:{title:"",show:!1},breadcrumb:{title:"首頁",skip:!1}}},{path:"/signin",name:"signin",component:ke,meta:{auth:!1,layout:"page-layout",pageName:{title:"登入",show:!0},breadcrumb:{title:"登入",skip:!1}},beforeEnter:$},{path:"/register",component:H,meta:{auth:!1,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"",skip:!0}},beforeEnter:$,children:[{path:"",redirect:"step1"},{path:"step1",name:"register-step1",component:qe,meta:{auth:!1,layout:"page-layout",pageName:{title:"加入會員",show:!0},breadcrumb:{title:"加入會員",skip:!1}}},{path:"step2",name:"register-step2",component:Be,meta:{auth:!1,layout:"page-layout",pageName:{title:"帳號驗證",show:!0},breadcrumb:{title:"帳號驗證",skip:!1}}}]},{path:"/forgot",component:H,meta:{auth:!1,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"",skip:!0}},beforeEnter:$,children:[{path:"",redirect:"step1"},{path:"step1",name:"forgot-step1",component:ze,meta:{auth:!1,layout:"page-layout",pageName:{title:"忘記密碼",show:!0},breadcrumb:{title:"忘記密碼",skip:!1}}},{path:"step2",name:"forgot-step2",component:Xe,meta:{auth:!1,layout:"page-layout",pageName:{title:"忘記密碼(簡訊驗證)",show:!0},breadcrumb:{title:"忘記密碼(簡訊驗證)",skip:!1}}},{path:"step3",name:"forgot-step3",component:it,meta:{auth:!1,layout:"page-layout",pageName:{title:"重設密碼",show:!0},breadcrumb:{title:"重設密碼",skip:!1}}}]},{path:"/member",component:Va,meta:{auth:!0,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"會員中心",skip:!1}},children:[{path:"",redirect:"profile"},{path:"profile",name:"profile",component:Qa,meta:{auth:!0,layout:"page-layout",pageName:{title:"會員資料",show:!0},breadcrumb:{title:"會員資料",skip:!1}}},{path:"order",name:"order",component:Un,meta:{auth:!0,layout:"page-layout",pageName:{title:"訂單紀錄",show:!0},breadcrumb:{title:"訂單紀錄",skip:!1}}},{path:"point",name:"point",component:Kn,meta:{auth:!0,layout:"page-layout",pageName:{title:"點數紀錄",show:!0},breadcrumb:{title:"點數紀錄",skip:!1}}}]},{path:"/cart",component:H,meta:{auth:!0,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"購物車",skip:!1}},children:[{path:"",redirect:"step1"},{path:"step1",name:"cart-step1",component:$i,meta:{auth:!0,layout:"page-layout",pageName:{title:"購物車-step1",show:!0},breadcrumb:{title:"step1",skip:!1}}},{path:"step2",name:"cart-step2",component:Mi,meta:{auth:!0,layout:"page-layout",pageName:{title:"購物車-step2",show:!0},breadcrumb:{title:"step2",skip:!1}}}]},{path:"/product",component:H,meta:{auth:!1,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"",skip:!0}},children:[{path:"",redirect:"/"},{path:"detail/:productCode",name:"product_detail",component:kt,meta:{auth:!1,layout:"page-layout",needBackToSingin:!0,pageName:{title:"商品詳情",show:!1},breadcrumb:{title:"商品詳情",skip:!1}}},{path:"category",name:"product_category",component:qt,meta:{auth:!1,layout:"page-layout",pageName:{title:"商品分類",show:!1},breadcrumb:{title:"商品分類",skip:!1}}}]},{path:"/activity",component:rr,meta:{auth:!1,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"優惠活動",skip:!1}},children:[{path:"",redirect:"/"},{path:"quota",name:"quota",component:jr,meta:{auth:!1,layout:"page-layout",needBackToSingin:!0,pageName:{title:"滿額活動",show:!0},breadcrumb:{title:"滿額活動",skip:!1}}},{path:"quanity",name:"quanity",component:Cr,meta:{auth:!1,layout:"page-layout",needBackToSingin:!0,pageName:{title:"滿件活動",show:!0},breadcrumb:{title:"滿件活動",skip:!1}}},{path:"redwithgreen",name:"redwithgreen",component:Qr,meta:{auth:!1,layout:"page-layout",needBackToSingin:!0,pageName:{title:"紅配綠活動",show:!0},breadcrumb:{title:"紅配綠活動",skip:!1}}}]},{path:"/term",name:"term",component:aa,meta:{auth:!1,layout:"page-layout",pageName:{title:"",show:!1},breadcrumb:{title:"條款",skip:!1}}},{path:"/brand",name:"brand",component:ua,meta:{auth:!1,layout:"page-layout",pageName:{title:"品牌介紹",show:!0},breadcrumb:{title:"品牌介紹",skip:!1}}},{path:"/faq",name:"faq",component:Sa,meta:{auth:!1,layout:"page-layout",pageName:{title:"常見問題",show:!0},breadcrumb:{title:"常見問題",skip:!1}}},{path:"/contact",name:"contact",component:fa,meta:{auth:!1,layout:"page-layout",pageName:{title:"聯絡我們",show:!0},breadcrumb:{title:"聯絡我們",skip:!1}}},{path:"*",redirect:"/"}],Ei=new f["a"]({mode:"hash",routes:Hi,scrollBehavior:function(e,t,r){return r||(e.hash?{selector:e.hash}:{x:0,y:0})}});Ei.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.matched.some((function(e){return!0===e.meta.auth})),Ei.app.$Progress.finish(),e.abrupt("return",a());case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}());var Di=Ei,Bi=v.a.create({baseURL:"https://revecafe.herokuapp.com/"});Bi.interceptors.request.use((function(e){var t=k.getItem("userInfo");return e.headers.Authorization=null!==t?"Bearer ".concat(t.token):"",e}),(function(e){return Promise.reject(e)})),Bi.interceptors.response.use((function(e){return e}),(function(e){var t=e.response.status;if(401!==t)return Promise.reject(e);var r=e.response.config.url,a=Di.app.$route,n={me:"/third_party_auth/me"};for(var i in n){var o=new RegExp(n[i]),s=o.test(r);if(s)return Promise.reject(e)}return T.commit("auth/setUserInfo",{}),T.dispatch("cart/clearAllCart"),k.removeItem("userInfo"),(a.meta.auth||a.meta.needBackToSingin)&&(k.setSessionItem("backInfo",{url:a.fullPath}),Di.replace("/signin")),Promise.reject(e)}));var Ui=function(e){return Bi(e)},Fi={login:function(e){return Ui({url:"/third_party_auth/login",method:"post",data:Object(m["a"])({},e)}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},logout:function(){return Ui({url:"/third_party_auth/logout",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},me:function(){return Ui({url:"/third_party_auth/me",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},refresh:function(){return Ui({url:"/third_party_auth/refresh",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},register_check:function(e){return Ui({url:"/third_party_auth/register_check",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},register:function(e){return Ui({url:"/third_party_auth/register",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},register_verify:function(e){return Ui({url:"/third_party_auth/register_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},resend_register_verify:function(e){return Ui({url:"/third_party_auth/resend_register_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},forgot_password:function(e){return Ui({url:"/third_party_auth/forgot_password",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},resend_forget_verify:function(e){return Ui({url:"/third_party_auth/resend_forget_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},forgot_password_verify:function(e){return Ui({url:"/third_party_auth/forgot_password_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},reset_password:function(e){return Ui({url:"/third_party_auth/reset_password",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Gi={getTerm:function(e){return Ui({url:"/third_party_api/term/doBriefTerm",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Vi={getCart:function(e){return Ui({url:"/cart",method:"get",data:e}).then((function(e){return e.data})).catch((function(e){return console.log(e.response),e.response.data}))},addCart:function(e){return Ui({url:"/cart/add",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},removeCart:function(e){return Ui({url:"/cart/".concat(e),method:"delete"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Zi={getCart:function(){return Ui({url:"/activity_cart/product_promotions/bundle",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},addCart:function(e){return Ui({url:"/activity_cart/product_promotions/bundle",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},removeCart:function(e){return Ui({url:"/activity_cart/product_promotions/bundle/".concat(e),method:"delete"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},zi={banner:function(){return Ui({url:"/scenes/banner",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},brand:function(){return Ui({url:"/scenes/article/brand",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Ki={product:function(e){return Ui({url:"/product",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},product_recommend:function(){return Ui({url:"/product/product_recommend_meta",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},product_detail:function(e){return Ui({url:"/product/product_detail/".concat(e),method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},product_category:function(e){return Ui({url:"/product/product_category",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},product_temperature:function(){return Ui({url:"/product/product_temperature",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Yi={fullAmount:function(){return Ui({url:"/activity/product_promotions/full_amount",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},red_with_green:function(){return Ui({url:"/activity/product_promotions/red_with_green",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},full_amount_meta:function(e){return Ui({url:"/activity/product_promotions/full_amount_meta",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},red_with_green_meta:function(e){return Ui({url:"/activity/product_promotions/red_with_green_meta",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Ji={contact:function(e){return Ui({url:"/customer/contact",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Qi={get:function(){return Ui({url:"/faq/",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Wi={getProfile:function(){return Ui({url:"/third_party_member/profile",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},updateProfile:function(e){return Ui({url:"/third_party_member/profile",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},summary:function(){return Ui({url:"/third_party_member/summary",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},level:function(e){return Ui({url:"/third_party_member/level_information",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},Xi={pay:function(){return Ui({url:"/order/pay",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},invoice:function(){return Ui({url:"/order/invoice",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},ship:function(){return Ui({url:"/order/shipment",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},outbound:function(){return Ui({url:"/order/shipment_outbound",method:"get"}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},createOrder:function(e){return Ui({url:"/order/createOrder",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},order_detail:function(e){return Ui({url:"/order/order_detail",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},order_history:function(e){return Ui({url:"/order/order_history",method:"get",params:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},eo=Fi,to=Gi,ro=Vi,ao=Zi,no=zi,io=Ki,oo=Yi,so=Ji,co=Qi,uo=Wi,lo=Xi,mo={setup:function(e,t){var r=t.root,a=Object(o["f"])(""),n=Object(o["e"])({data:[]}),i=Object(o["f"])(!1),s=Object(o["a"])((function(){return r.$store.getters["auth/isLogin"]})),c=Object(o["a"])((function(){return s.value?"/member/profile":"/signin"})),m=Object(o["a"])((function(){return r.$store.getters["cart/subTotal"]})),p=Object(o["a"])((function(){return m.value>0})),v=Q(),f=function(e){return e.reduce((function(e,t){var r=t.iId,a=t.vCategoryName;return 0===r||e.push({id:r,title:a,urlParams:{name:"product_category",query:{categoryId:r}}}),e}),[])},b=function(e){var t=e[0],r=v[t.code][t.iType].routeName;return{id:t.iId,title:"優惠活動",urlParams:{name:r,query:{activityId:t.iId,activityType:t.code}}}},g=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,a,i,o,s,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,io.product_category({});case 2:return t=e.sent,r=f(t.aaData),e.next=6,Promise.all([oo.fullAmount(),oo.red_with_green()]);case 6:if(a=e.sent,i=Object(l["a"])(a,2),o=i[0],s=i[1],c=o.aaData.concat(s.aaData),0!==c.length){e.next=13;break}return e.abrupt("return",n.data=r);case 13:d=b(c),n.data=[].concat(Object(u["a"])(r),[d]);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){r.$router.push({name:"product_category",query:{categoryId:0,keyword:a.value}}).catch((function(){})),a.value=""};return Object(o["d"])((function(){g()})),{keyword:a,openDropdownMenu:i,memberLink:c,cartTotal:m,showCartCount:p,isLogin:s,menuList:n,searchHandler:h}}},po=mo,vo=(r("5d97"),Object(R["a"])(po,s,c,!1,null,"4b8b9bd4",null)),fo=vo.exports,bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",[a("div",{staticClass:"footer-top"},[a("div",{staticClass:"my-container"},[a("div",{staticClass:"footer-logo-box"},[a("img",{attrs:{src:r("0ea3"),alt:""}})]),a("div",{staticClass:"footer-info"},[a("ul",{staticClass:"infoList"},[a("li",{staticClass:"info-item"},[a("p",{staticClass:"name"},[e._v("關於黑浮")]),a("div",{staticClass:"link-block"},[a("router-link",{attrs:{to:"/faq"}},[e._v("Q&A")]),a("router-link",{attrs:{to:"/brand"}},[e._v("品牌介紹")])],1)]),a("li",{staticClass:"info-item"},[a("p",{staticClass:"name"},[e._v("相關政策")]),a("div",{staticClass:"link-block"},e._l(e.termList,(function(t){return a("router-link",{key:t.id,attrs:{to:{name:"term",query:{termId:t.id}}}},[e._v(e._s(t.title))])})),1)])])])])]),e._m(0)])},go=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer-bottom"},[r("div",{staticClass:"my-container"},[r("p",{staticClass:"copyright"},[e._v("Copyright © RÊVE INTERNATIONAL RESTAURANT MANAGEMENT CO., LTD.")])])])}],ho={setup:function(e,t){var r=t.root,a=Object(o["a"])((function(){return r.$store.getters.termInfo}));return Object(o["d"])((function(){r.$store.dispatch("getTerm")})),{termList:a}}},_o=ho,Co=(r("222a"),Object(R["a"])(_o,bo,go,!1,null,"4973e8e3",null)),yo=Co.exports,wo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.showBreadcrumb,expression:"showBreadcrumb"}],staticClass:"breadcrumb"},[r("div",{staticClass:"my-container"},e._l(e.breadList,(function(t,a){return r("BreadItem",{key:t.path,attrs:{breadTotal:e.breadTotal,breadItem:t,order:a}})})),1)])},ko=[],xo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bread-item",class:{active:e.isActive}},[r("router-link",{attrs:{to:e.breadItem.path}},[e._v(e._s(e.linkText))])],1)},Oo=[],jo={props:{breadTotal:{type:Number,required:!0},breadItem:{type:Object,required:!0},order:{type:Number,required:!0}},setup:function(e){var t=Object(o["g"])(e),r=t.breadTotal,a=t.breadItem,n=t.order,i=Object(o["a"])((function(){var e=a.value.meta.breadcrumb.title;return n.value!==r.value-1?"".concat(e):e})),s=Object(o["a"])((function(){return n.value===r.value-1}));return{linkText:i,isActive:s}}},Io=jo,No=(r("2466"),Object(R["a"])(Io,xo,Oo,!1,null,"d38f93cc",null)),Po=No.exports,To={components:{BreadItem:Po},setup:function(e,t){var r=t.root,a=Object(o["a"])((function(){return r.$router.options.routes.filter((function(e){return"home"===e.name}))})),n=Object(o["a"])((function(){return r.$route.matched.filter((function(e){return!e.meta.breadcrumb.skip}))})),i=Object(o["a"])((function(){return a.value.concat(n.value)})),s=Object(o["a"])((function(){return i.value.length})),c=Object(o["a"])((function(){return s.value>1&&"home"!==r.$route.name}));return{showBreadcrumb:c,breadTotal:s,breadList:i}}},$o=To,Lo=(r("ab96"),Object(R["a"])($o,wo,ko,!1,null,"b6dd2372",null)),So=Lo.exports,Ao={name:"App",components:{Header:fo,Footer:yo,Breadcrumb:So},metaInfo:{title:"reve-cafe",titleTemplate:"%s | 黑浮咖啡"},setup:function(e,t){var r=t.root,a=Object(o["a"])((function(){return r.$store.getters["auth/isLogin"]})),n=Object(o["a"])((function(){return r.$route.meta.layout}));return Object(o["d"])((function(){a.value&&r.$store.dispatch("cart/getAllCart")})),{layoutName:n}}},qo=Ao,Ro=Object(R["a"])(qo,n,i,!1,null,null,null),Mo=Ro.exports,Ho=r("58ca"),Eo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"loading"}},[r("div",{staticClass:"dots"},e._l(e.dotList,(function(e,t){return r("span",{key:t,style:e.styleText})})),0)])},Do=[],Bo={setup:function(){var e=Object(o["f"])(15),t=Object(o["a"])((function(){for(var t=[],r=1;r<=e.value;r++)t.push({styleText:"--i:-".concat(r)});return t}));return{dotList:t}}},Uo=Bo,Fo=(r("1e34"),Object(R["a"])(Uo,Eo,Do,!1,null,"82af305e",null)),Go=Fo.exports,Vo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",class:{open:e.isOpen}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-header"},[r("h3",{staticClass:"title text-primary"},[e._v(e._s(e.title))])]),r("div",{staticClass:"modal-content"},[e._t("default")],2),r("div",{staticClass:"modal-footer"},[e.showCancel?r("button",{staticClass:"btn-primary",on:{click:e.cancelHandler}},[e._v(e._s(e.cancelText))]):e._e(),e.showConfirm?r("button",{staticClass:"btn-primary",on:{click:e.confirmHandler}},[e._v(e._s(e.confirmText))]):e._e()])])])},Zo=[],zo={props:{title:{type:String,default:"提示"},showCancel:{type:Boolean,default:!1},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"確認"}},setup:function(e,t){var r=t.emit,a=Object(o["f"])(!1),n=function(){return a.value=!0},i=function(){return a.value=!1},s=function(){return r("confirm")},c=function(){r("cancel"),i()};return{isOpen:a,openModal:n,closeModal:i,confirmHandler:s,cancelHandler:c}}},Ko=zo,Yo=Object(R["a"])(Ko,Vo,Zo,!1,null,null,null),Jo=Yo.exports,Qo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal product",class:{open:e.isOpen}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-header"},[r("h3",{staticClass:"title"},[e._v(e._s(e.introInfo.productName))]),r("i",{staticClass:"fal fa-times cross",on:{click:e.closeModal}})]),r("div",{staticClass:"modal-content"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:e.introInfo.imageUrl,alt:""}})]),r("div",{staticClass:"descBox"},[r("p",[e._v("規格: "+e._s(e.introInfo.specName))]),r("p",{staticClass:"text-input"},[e._v(e._s(e.introInfo.productSummary))]),r("p",{staticClass:"text-primary"},[e._v("活動價格: "+e._s(e._f("currency")(e.introInfo.price)))])])])])])},Wo=[],Xo={setup:function(e){var t=Object(o["f"])(!1),r=Object(o["e"])({productName:"",productSummary:"",specName:"",imageUrl:"",price:0}),a=function(){return t.value=!0},n=function(){return t.value=!1},i=function(e){for(var t in r)r[t]=e[t]};return{isOpen:t,introInfo:r,openModal:a,closeModal:n,updateIntroInfo:i}}},es=Xo,ts=Object(R["a"])(es,Qo,Wo,!1,null,null,null),rs=ts.exports,as=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"my-section"},[e._t("default")],2)},ns=[],is={name:"home-layout"},os=is,ss=Object(R["a"])(os,as,ns,!1,null,null,null),cs=ss.exports,us=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"my-section"},[r("div",{staticClass:"my-container"},[r("PageName"),e._t("default")],2)])},ls=[],ds=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h3",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"page-name"},[e._v(e._s(e.pageName))])},ms=[],ps={setup:function(e,t){var r=t.root,a=Object(o["a"])((function(){return r.$route.meta.pageName.show})),n=Object(o["a"])((function(){return r.$route.meta.pageName.title}));return{isShow:a,pageName:n}}},vs=ps,fs=Object(R["a"])(vs,ds,ms,!1,null,null,null),bs=fs.exports,gs={name:"page-layout",components:{PageName:bs}},hs=gs,_s=Object(R["a"])(hs,us,ls,!1,null,null,null),Cs=_s.exports,ys=r("3e84");a["default"].component("Loading",Go),a["default"].component("modal-message",Jo),a["default"].component("home-layout",cs),a["default"].component("page-layout",Cs),a["default"].component("modal-product",rs),a["default"].component("slide-up-down",ys["a"]);var ws=r("26b9"),ks=r.n(ws);a["default"].use(ks.a,{color:"#bc9f75",failedColor:"#bc9f75",thickness:"2px"});var xs=r("7bb1"),Os=r("4c93");a["default"].component("ValidationObserver",xs["a"]),a["default"].component("ValidationProvider",xs["b"]),Object(xs["d"])("eager"),Object(xs["c"])("required",Object(m["a"])(Object(m["a"])({},Os["b"]),{},{message:"必填"})),Object(xs["c"])("email",Object(m["a"])(Object(m["a"])({},Os["a"]),{},{message:"電子信相格式有誤"})),Object(xs["c"])("phone",{message:"手機號碼格式有誤",validate:function(e){return/^09\d{8}$/.test(e)}}),Object(xs["c"])("password",{message:"6-12字元英數字組合",validate:function(e){var t=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/;return t.test(e)}}),Object(xs["c"])("confirmPw",{params:["target"],message:"確認密碼有誤",validate:function(e,t){var r=t.target;return e===r}}),Object(xs["c"])("birthday",{message:"需滿18歲才能註冊",validate:function(e){var t=tn()().year(),r=tn()().month(),a=tn()().date(),n=tn()().set("year",t).set("month",r).set("date",a),i=tn()(e);return n.diff(i,"year")>=18}}),Object(xs["c"])("term",{message:"請同意條款",validate:function(e){return e}});r("b680");a["default"].filter("currency",(function(e){var t=0,r=3,a="\\d(?=(\\d{"+(r||3)+"})+"+(t>0?"\\.":"$")+")";return e.toFixed(Math.max(0,t)).replace(new RegExp(a,"g"),"$&,")}));r("e25d");a["default"].use(o["b"]),a["default"].use(Ho["a"]),a["default"].config.productionTip=!1,new a["default"]({router:Di,store:T,render:function(e){return e(Mo)}}).$mount("#app")},5893:function(e,t,r){},"58b8":function(e,t,r){},"5d97":function(e,t,r){"use strict";r("f05b")},"5eeb":function(e,t,r){},"621d":function(e,t,r){},"63d4":function(e,t,r){"use strict";r("5eeb")},"687d":function(e,t,r){"use strict";r("bd9e")},6923:function(e,t,r){},"6d03":function(e,t,r){"use strict";r("cf6d")},"724e":function(e,t,r){},"736b":function(e,t,r){"use strict";r("95a7")},"7a02":function(e,t,r){},"7eb0":function(e,t,r){e.exports=r.p+"img/header-logo.115c8c14.png"},"80ae":function(e,t,r){"use strict";r("f2fd")},8136:function(e,t,r){"use strict";r("d626")},"83d1":function(e,t,r){},8793:function(e,t,r){"use strict";r("b476")},"8ef9":function(e,t,r){"use strict";r("f388")},"93ef":function(e,t,r){},"95a7":function(e,t,r){},"9be2":function(e,t,r){"use strict";r("ec0f")},"9ef7":function(e,t,r){},a14a:function(e,t,r){},a3a5:function(e,t,r){"use strict";r("5893")},a4df:function(e,t,r){"use strict";r("5654")},a85f:function(e,t,r){},aa88:function(e,t,r){"use strict";r("0a6d")},ab96:function(e,t,r){"use strict";r("4949")},ae2a:function(e,t,r){},b3bd:function(e,t,r){"use strict";r("621d")},b476:function(e,t,r){},b538:function(e,t,r){"use strict";r("fc32")},b8a7:function(e,t,r){"use strict";r("3e29")},b926:function(e,t,r){},bb4a:function(e,t,r){},bc56:function(e,t,r){},bd9e:function(e,t,r){},c74c:function(e,t,r){"use strict";r("58b8")},c975:function(e,t,r){},cab1:function(e,t,r){},cf6d:function(e,t,r){},d626:function(e,t,r){},dcb0:function(e,t,r){"use strict";r("e1b5")},e041:function(e,t,r){},e0ce:function(e,t,r){"use strict";r("a14a")},e1b5:function(e,t,r){},e609:function(e,t,r){},e6b1:function(e,t,r){"use strict";r("5126")},e72f:function(e,t,r){"use strict";r("068c")},ec0f:function(e,t,r){},f05b:function(e,t,r){},f2fd:function(e,t,r){},f388:function(e,t,r){},f487:function(e,t,r){"use strict";r("93ef")},f6f0:function(e,t,r){"use strict";r("e609")},fa89:function(e,t,r){"use strict";r("cab1")},fc32:function(e,t,r){}});
//# sourceMappingURL=app.js.map